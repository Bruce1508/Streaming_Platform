{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/hooks/useNotification.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\nimport toast from 'react-hot-toast';\r\n\r\ninterface Notification {\r\n    _id: string;\r\n    title: string;\r\n    message: string;\r\n    type: 'like' | 'comment' | 'system' | 'general';\r\n    read: boolean;\r\n    createdAt: string;\r\n    updatedAt: string;\r\n}\r\n\r\nexport const useNotification = () => {\r\n    const [notifications, setNotifications] = useState<Notification[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const fetchNotifications = useCallback(async () => {\r\n        try {\r\n            setLoading(true);\r\n            setError(null);\r\n            \r\n            // TODO: Replace with actual API call when backend is ready\r\n            // const response = await api.get('/notifications');\r\n            // setNotifications(response.data);\r\n            \r\n            // Mock data for now\r\n            const mockNotifications: Notification[] = [\r\n                {\r\n                    _id: '1',\r\n                    title: 'Welcome to StudyBuddy!',\r\n                    message: 'Thanks for joining our platform. Start exploring programs and courses.',\r\n                    type: 'system',\r\n                    read: false,\r\n                    createdAt: new Date().toISOString(),\r\n                    updatedAt: new Date().toISOString()\r\n                },\r\n                {\r\n                    _id: '2',\r\n                    title: 'Your review was liked',\r\n                    message: 'Someone liked your review on Computer Science program.',\r\n                    type: 'like',\r\n                    read: true,\r\n                    createdAt: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(),\r\n                    updatedAt: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()\r\n                }\r\n            ];\r\n            \r\n            setNotifications(mockNotifications);\r\n            \r\n        } catch (err: any) {\r\n            console.error('Error fetching notifications:', err);\r\n            setError('Failed to load notifications');\r\n            toast.error('Failed to load notifications');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const markAsRead = useCallback(async (notificationId: string) => {\r\n        try {\r\n            // TODO: Replace with actual API call\r\n            // await api.put(`/notifications/${notificationId}/read`);\r\n            \r\n            setNotifications(prev => \r\n                prev.map(notification => \r\n                    notification._id === notificationId \r\n                        ? { ...notification, read: true }\r\n                        : notification\r\n                )\r\n            );\r\n        } catch (err: any) {\r\n            console.error('Error marking notification as read:', err);\r\n            toast.error('Failed to mark notification as read');\r\n        }\r\n    }, []);\r\n\r\n    const markAllAsRead = useCallback(async () => {\r\n        try {\r\n            // TODO: Replace with actual API call\r\n            // await api.put('/notifications/read-all');\r\n            \r\n            setNotifications(prev => \r\n                prev.map(notification => ({ ...notification, read: true }))\r\n            );\r\n            \r\n            toast.success('All notifications marked as read');\r\n        } catch (err: any) {\r\n            console.error('Error marking all notifications as read:', err);\r\n            toast.error('Failed to mark all notifications as read');\r\n        }\r\n    }, []);\r\n\r\n    const refreshNotifications = useCallback(() => {\r\n        fetchNotifications();\r\n    }, [fetchNotifications]);\r\n\r\n    useEffect(() => {\r\n        fetchNotifications();\r\n    }, [fetchNotifications]);\r\n\r\n    return {\r\n        notifications,\r\n        loading,\r\n        error,\r\n        markAsRead,\r\n        markAllAsRead,\r\n        refreshNotifications\r\n    };\r\n};"],"names":[],"mappings":";;;AAAA;AACA;;;AAYO,MAAM,kBAAkB;IAC3B,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAkB,EAAE;IACrE,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,MAAM,qBAAqB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QACnC,IAAI;YACA,WAAW;YACX,SAAS;YAET,2DAA2D;YAC3D,oDAAoD;YACpD,mCAAmC;YAEnC,oBAAoB;YACpB,MAAM,oBAAoC;gBACtC;oBACI,KAAK;oBACL,OAAO;oBACP,SAAS;oBACT,MAAM;oBACN,MAAM;oBACN,WAAW,IAAI,OAAO,WAAW;oBACjC,WAAW,IAAI,OAAO,WAAW;gBACrC;gBACA;oBACI,KAAK;oBACL,OAAO;oBACP,SAAS;oBACT,MAAM;oBACN,MAAM;oBACN,WAAW,IAAI,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,MAAM,WAAW;oBACjE,WAAW,IAAI,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,MAAM,WAAW;gBACrE;aACH;YAED,iBAAiB;QAErB,EAAE,OAAO,KAAU;YACf,QAAQ,KAAK,CAAC,iCAAiC;YAC/C,SAAS;YACT,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QAChB,SAAU;YACN,WAAW;QACf;IACJ,GAAG,EAAE;IAEL,MAAM,aAAa,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,OAAO;QAClC,IAAI;YACA,qCAAqC;YACrC,0DAA0D;YAE1D,iBAAiB,CAAA,OACb,KAAK,GAAG,CAAC,CAAA,eACL,aAAa,GAAG,KAAK,iBACf;wBAAE,GAAG,YAAY;wBAAE,MAAM;oBAAK,IAC9B;QAGlB,EAAE,OAAO,KAAU;YACf,QAAQ,KAAK,CAAC,uCAAuC;YACrD,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QAChB;IACJ,GAAG,EAAE;IAEL,MAAM,gBAAgB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAC9B,IAAI;YACA,qCAAqC;YACrC,4CAA4C;YAE5C,iBAAiB,CAAA,OACb,KAAK,GAAG,CAAC,CAAA,eAAgB,CAAC;wBAAE,GAAG,YAAY;wBAAE,MAAM;oBAAK,CAAC;YAG7D,uJAAA,CAAA,UAAK,CAAC,OAAO,CAAC;QAClB,EAAE,OAAO,KAAU;YACf,QAAQ,KAAK,CAAC,4CAA4C;YAC1D,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QAChB;IACJ,GAAG,EAAE;IAEL,MAAM,uBAAuB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QACrC;IACJ,GAAG;QAAC;KAAmB;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN;IACJ,GAAG;QAAC;KAAmB;IAEvB,OAAO;QACH;QACA;QACA;QACA;QACA;QACA;IACJ;AACJ","debugId":null}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/app/%28protected%29/dashboard/notifications/page.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useNotification } from '@/hooks/useNotification';\r\nimport { Loader2, Bell, Check, X, Clock } from 'lucide-react';\r\n\r\ninterface Notification {\r\n    _id: string;\r\n    title: string;\r\n    message: string;\r\n    type: 'like' | 'comment' | 'system' | 'general';\r\n    read: boolean;\r\n    createdAt: string;\r\n    updatedAt: string;\r\n}\r\n\r\nconst NotificationsPage = () => {\r\n    const { notifications, loading, error, markAsRead, markAllAsRead } = useNotification();\r\n\r\n    return (\r\n        <div className=\"max-w-4xl mx-auto py-10 px-4\">\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n                <h1 className=\"text-3xl font-bold text-gray-900\">Notifications</h1>\r\n                {notifications.length > 0 && (\r\n                    <button \r\n                        onClick={markAllAsRead}\r\n                        className=\"text-sm text-blue-600 hover:text-blue-800 transition-colors\"\r\n                    >\r\n                        Mark all as read\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            {loading && (\r\n                <div className=\"flex items-center justify-center py-12\">\r\n                    <Loader2 className=\"w-8 h-8 animate-spin text-blue-500\" />\r\n                    <span className=\"ml-3 text-gray-600 text-lg\">Loading notifications...</span>\r\n                </div>\r\n            )}\r\n\r\n            {error && (\r\n                <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <X className=\"w-5 h-5\" />\r\n                        {error}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {!loading && notifications.length === 0 && (\r\n                <div className=\"text-center py-16\">\r\n                    <Bell className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\r\n                    <h3 className=\"text-xl font-medium text-gray-500 mb-2\">No notifications yet</h3>\r\n                    <p className=\"text-gray-400\">When you receive notifications, they'll appear here.</p>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"space-y-3\">\r\n                {notifications.map((notification: Notification) => (\r\n                    <div \r\n                        key={notification._id} \r\n                        className={`rounded-lg border p-6 flex items-start gap-4 transition-all hover:shadow-md cursor-pointer ${\r\n                            notification.read \r\n                                ? 'bg-white border-gray-200' \r\n                                : 'bg-blue-50 border-blue-200 shadow-sm'\r\n                        }`}\r\n                        onClick={() => markAsRead(notification._id)}\r\n                    >\r\n                        <div className=\"flex-shrink-0 mt-1\">\r\n                            {getNotificationIcon(notification.type)}\r\n                        </div>\r\n                        <div className=\"flex-1\">\r\n                            <div className=\"flex items-start justify-between\">\r\n                                <div>\r\n                                    <h4 className=\"font-semibold text-gray-900 mb-1\">\r\n                                        {notification.title}\r\n                                    </h4>\r\n                                    <p className=\"text-gray-700 leading-relaxed\">\r\n                                        {notification.message}\r\n                                    </p>\r\n                                </div>\r\n                                {!notification.read && (\r\n                                    <div className=\"w-3 h-3 bg-blue-500 rounded-full flex-shrink-0 ml-3\"></div>\r\n                                )}\r\n                            </div>\r\n                            <div className=\"flex items-center gap-2 mt-3 text-sm text-gray-500\">\r\n                                <Clock className=\"w-4 h-4\" />\r\n                                {formatDate(notification.createdAt)}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst getNotificationIcon = (type: string) => {\r\n    switch (type) {\r\n        case 'like':\r\n            return <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\r\n                <Bell className=\"w-5 h-5 text-blue-600\" />\r\n            </div>;\r\n        case 'comment':\r\n            return <div className=\"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center\">\r\n                <Bell className=\"w-5 h-5 text-green-600\" />\r\n            </div>;\r\n        default:\r\n            return <div className=\"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center\">\r\n                <Bell className=\"w-5 h-5 text-gray-600\" />\r\n            </div>;\r\n    }\r\n};\r\n\r\nconst formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffMs = now.getTime() - date.getTime();\r\n    const diffMinutes = Math.floor(diffMs / (1000 * 60));\r\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\r\n    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffMinutes < 1) return 'Just now';\r\n    if (diffMinutes < 60) return `${diffMinutes}m ago`;\r\n    if (diffHours < 24) return `${diffHours}h ago`;\r\n    if (diffDays < 7) return `${diffDays}d ago`;\r\n    \r\n    return date.toLocaleDateString('en-US', {\r\n        year: 'numeric',\r\n        month: 'short',\r\n        day: 'numeric'\r\n    });\r\n};\r\n\r\nexport default NotificationsPage; "],"names":[],"mappings":"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","debugId":null}}]
}
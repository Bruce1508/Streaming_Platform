{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/hooks/useUpload.ts"],"sourcesContent":["// hooks/useUpload.ts\r\n\r\nimport { useState, useCallback } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext'; // Import useAuth vào hook\r\n\r\nexport interface UploadFileResponse {\r\n    success: boolean;\r\n    data?: {\r\n        attachment: {\r\n            id: string;\r\n            originalName: string;\r\n            size: number;\r\n            mimeType: string;\r\n            url: string;\r\n            uploadedAt: string;\r\n        }\r\n    };\r\n    error?: string;\r\n}\r\n\r\nexport interface FileWithStatus {\r\n    file: File;\r\n    id: string;\r\n    status: 'pending' | 'uploading' | 'completed' | 'error';\r\n    progress: number;\r\n    error?: string;\r\n    result?: any;\r\n}\r\n\r\nconst BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5001/api';\r\n\r\nexport function useUpload() {\r\n    const { user, token } = useAuth(); // Dùng useAuth trong hook\r\n    const [files, setFiles] = useState<FileWithStatus[]>([]);\r\n    const [uploading, setUploading] = useState(false);\r\n    const [progress, setProgress] = useState(0);\r\n    const [uploadedFiles, setUploadedFiles] = useState<any[]>([]);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    // Upload single file function - bây giờ có thể access token\r\n    const uploadSingleFile = useCallback(async (\r\n        file: File,\r\n        onProgress?: (progress: number) => void\r\n    ): Promise<UploadFileResponse> => {\r\n        const getValidToken = (): string | null => {\r\n            // Try context first\r\n            if (token && typeof token === 'string' && token !== 'null') {\r\n                return token;\r\n            }\r\n            // Try localStorage\r\n            const storageToken = localStorage.getItem(\"auth_token\");\r\n            if (storageToken && storageToken !== 'null' && storageToken !== 'undefined') {\r\n                return typeof storageToken === 'string' ? storageToken : String(storageToken);\r\n            }\r\n            return null;\r\n        };\r\n\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('file', file);\r\n\r\n            return new Promise((resolve, reject) => {\r\n                const xhr = new XMLHttpRequest();\r\n\r\n                // Track upload progress\r\n                xhr.upload.addEventListener('progress', (event) => {\r\n                    if (event.lengthComputable && onProgress) {\r\n                        const progress = Math.round((event.loaded / event.total) * 100);\r\n                        onProgress(progress);\r\n                    }\r\n                });\r\n\r\n                xhr.addEventListener('load', () => {\r\n                    if (xhr.status >= 200 && xhr.status < 300) {\r\n                        try {\r\n                            const response = JSON.parse(xhr.responseText);\r\n                            resolve(response);\r\n                        } catch (error) {\r\n                            reject(new Error('Invalid response format'));\r\n                        }\r\n                    } else {\r\n                        try {\r\n                            const errorResponse = JSON.parse(xhr.responseText);\r\n                            reject(new Error(errorResponse.message || 'Upload failed'));\r\n                        } catch {\r\n                            reject(new Error(`HTTP ${xhr.status}: Upload failed`));\r\n                        }\r\n                    }\r\n                });\r\n\r\n                xhr.addEventListener('error', () => {\r\n                    reject(new Error('Network error during upload'));\r\n                });\r\n\r\n                xhr.addEventListener('timeout', () => {\r\n                    reject(new Error('Upload timeout'));\r\n                });\r\n\r\n                xhr.open('POST', `${BASE_URL}/upload/file`);\r\n\r\n                // Set headers\r\n                const validToken = getValidToken();\r\n                if (validToken) {\r\n                    xhr.setRequestHeader('Authorization', `Bearer ${validToken}`);\r\n                }\r\n\r\n                xhr.timeout = 300000; // 5 minutes timeout\r\n                xhr.send(formData);\r\n            });\r\n        } catch (error) {\r\n            console.error('❌ Upload file error:', error);\r\n            throw error;\r\n        }\r\n    }, [token]); // Dependency array\r\n\r\n    // Add files to upload queue\r\n    const addFiles = useCallback((newFiles: File[]) => {\r\n        const fileStatuses: FileWithStatus[] = newFiles.map(file => ({\r\n            file,\r\n            id: `${Date.now()}-${Math.random()}`,\r\n            status: 'pending' as const,\r\n            progress: 0,\r\n        }));\r\n\r\n        setFiles(prev => [...prev, ...fileStatuses]);\r\n        setError(null);\r\n    }, []);\r\n\r\n    // Remove file from queue\r\n    const removeFile = useCallback((fileId: string) => {\r\n        setFiles(prev => prev.filter(f => f.id !== fileId));\r\n    }, []);\r\n\r\n    // Upload all files\r\n    const uploadAllFiles = useCallback(async () => {\r\n        const pendingFiles = files.filter(f => f.status === 'pending');\r\n        if (pendingFiles.length === 0) return [];\r\n\r\n        setUploading(true);\r\n        setError(null);\r\n\r\n        const results: any[] = [];\r\n        let completedCount = 0;\r\n\r\n        try {\r\n            for (const fileStatus of pendingFiles) {\r\n                // Update file status to uploading\r\n                setFiles(prev => prev.map(f =>\r\n                    f.id === fileStatus.id\r\n                        ? { ...f, status: 'uploading' as const }\r\n                        : f\r\n                ));\r\n\r\n                try {\r\n                    const result = await uploadSingleFile(\r\n                        fileStatus.file,\r\n                        (progress) => {\r\n                            // Update individual file progress\r\n                            setFiles(prev => prev.map(f =>\r\n                                f.id === fileStatus.id\r\n                                    ? { ...f, progress }\r\n                                    : f\r\n                            ));\r\n                        }\r\n                    );\r\n\r\n                    // Mark file as completed\r\n                    setFiles(prev => prev.map(f =>\r\n                        f.id === fileStatus.id\r\n                            ? { ...f, status: 'completed' as const, progress: 100, result }\r\n                            : f\r\n                    ));\r\n\r\n                    results.push(result);\r\n                    completedCount++;\r\n\r\n                    // Update overall progress\r\n                    setProgress(Math.round((completedCount / pendingFiles.length) * 100));\r\n\r\n                } catch (error) {\r\n                    // Mark file as error\r\n                    setFiles(prev => prev.map(f =>\r\n                        f.id === fileStatus.id\r\n                            ? {\r\n                                ...f,\r\n                                status: 'error' as const,\r\n                                error: error instanceof Error ? error.message : 'Upload failed'\r\n                            }\r\n                            : f\r\n                    ));\r\n                }\r\n            }\r\n\r\n            setUploadedFiles(results);\r\n            return results;\r\n\r\n        } catch (error) {\r\n            setError(error instanceof Error ? error.message : 'Upload failed');\r\n            throw error;\r\n        } finally {\r\n            setUploading(false);\r\n        }\r\n    }, [files, uploadSingleFile]);\r\n\r\n    // Reset all state\r\n    const reset = useCallback(() => {\r\n        setFiles([]);\r\n        setUploading(false);\r\n        setProgress(0);\r\n        setUploadedFiles([]);\r\n        setError(null);\r\n    }, []);\r\n\r\n    // Get upload statistics\r\n    const getStats = useCallback(() => {\r\n        const total = files.length;\r\n        const completed = files.filter(f => f.status === 'completed').length;\r\n        const errors = files.filter(f => f.status === 'error').length;\r\n        const pending = files.filter(f => f.status === 'pending').length;\r\n        const uploading = files.filter(f => f.status === 'uploading').length;\r\n\r\n        const valid = files.filter(f => {\r\n            const maxSize = 10 * 1024 * 1024; // 10MB\r\n            const allowedTypes = [\r\n                'application/pdf',\r\n                'image/jpeg',\r\n                'image/png',\r\n                'image/gif',\r\n                'application/msword',\r\n                'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n                'text/plain'\r\n            ];\r\n            return f.file.size <= maxSize && allowedTypes.includes(f.file.type);\r\n        }).length;\r\n\r\n        const invalid = total - valid;\r\n        const totalSize = files.reduce((sum, f) => sum + f.file.size, 0);\r\n        const totalSizeFormatted = `${(totalSize / (1024 * 1024)).toFixed(1)} MB`;\r\n\r\n        return {\r\n            total,\r\n            completed,\r\n            errors,\r\n            pending,\r\n            uploading,\r\n            valid,\r\n            invalid,\r\n            totalSize,\r\n            totalSizeFormatted\r\n        };\r\n    }, [files]);\r\n\r\n    return {\r\n        files,\r\n        uploading,\r\n        progress,\r\n        uploadedFiles,\r\n        error,\r\n        addFiles,\r\n        removeFile,\r\n        uploadAllFiles,\r\n        reset,\r\n        getStats\r\n    };\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/components/ui/FilePreview.tsx"],"sourcesContent":["// components/ui/upload/FilePreview.tsx\r\n\r\nimport React from 'react';\r\nimport { X, FileText, Image, File, AlertCircle, CheckCircle } from 'lucide-react';\r\nimport { FileWithStatus } from '@/hooks/useUpload';\r\n\r\ninterface FilePreviewProps {\r\n    file: FileWithStatus;\r\n    onRemove: (fileId: string) => void;\r\n}\r\n\r\n// File validation function\r\nconst validateFile = (file: File) => {\r\n    const maxSize = 10 * 1024 * 1024; // 10MB\r\n    const allowedTypes = [\r\n        'application/pdf',\r\n        'image/jpeg',\r\n        'image/png', \r\n        'image/gif',\r\n        'application/msword',\r\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n        'text/plain'\r\n    ];\r\n    \r\n    const isValidSize = file.size <= maxSize;\r\n    const isValidType = allowedTypes.includes(file.type);\r\n    \r\n    return {\r\n        isValid: isValidSize && isValidType,\r\n        errors: [\r\n            ...(!isValidSize ? [`File too large (max 10MB, current: ${(file.size / (1024 * 1024)).toFixed(1)}MB)`] : []),\r\n            ...(!isValidType ? [`File type not supported (${file.type})`] : [])\r\n        ]\r\n    };\r\n};\r\n\r\n// Get file icon based on type\r\nconst getFileIcon = (fileType: string) => {\r\n    if (fileType.startsWith('image/')) return Image;\r\n    if (fileType === 'application/pdf') return FileText;\r\n    return File;\r\n};\r\n\r\n// Format file size\r\nconst formatFileSize = (bytes: number) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\r\n};\r\n\r\nexport function FilePreview({ file, onRemove }: FilePreviewProps) {\r\n    const validation = validateFile(file.file);\r\n    const FileIcon = getFileIcon(file.file.type);\r\n    \r\n    return (\r\n        <div className={`\r\n            relative p-4 rounded-lg border-2 transition-all duration-200\r\n            ${validation.isValid \r\n                ? 'border-gray-200 bg-gray-50 hover:border-gray-300' \r\n                : 'border-red-200 bg-red-50'\r\n            }\r\n            ${file.status === 'uploading' ? 'border-blue-200 bg-blue-50' : ''}\r\n            ${file.status === 'completed' ? 'border-green-200 bg-green-50' : ''}\r\n            ${file.status === 'error' ? 'border-red-200 bg-red-50' : ''}\r\n        `}>\r\n            {/* Remove button */}\r\n            <button\r\n                onClick={() => onRemove(file.id)}\r\n                className=\"absolute top-2 right-2 p-1 rounded-full bg-white shadow-sm hover:bg-gray-100 transition-colors\"\r\n                disabled={file.status === 'uploading'}\r\n            >\r\n                <X className=\"w-4 h-4 text-gray-500\" />\r\n            </button>\r\n\r\n            {/* File info */}\r\n            <div className=\"flex items-start space-x-3\">\r\n                {/* File icon */}\r\n                <div className={`\r\n                    flex-shrink-0 p-2 rounded-lg\r\n                    ${validation.isValid ? 'bg-blue-100' : 'bg-red-100'}\r\n                `}>\r\n                    <FileIcon className={`\r\n                        w-6 h-6 \r\n                        ${validation.isValid ? 'text-blue-600' : 'text-red-600'}\r\n                    `} />\r\n                </div>\r\n\r\n                {/* File details */}\r\n                <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center space-x-2\">\r\n                        <p className=\"text-sm font-medium text-gray-900 truncate\">\r\n                            {file.file.name}\r\n                        </p>\r\n                        \r\n                        {/* Status icon */}\r\n                        {file.status === 'completed' && (\r\n                            <CheckCircle className=\"w-4 h-4 text-green-500 flex-shrink-0\" />\r\n                        )}\r\n                        {(file.status === 'error' || !validation.isValid) && (\r\n                            <AlertCircle className=\"w-4 h-4 text-red-500 flex-shrink-0\" />\r\n                        )}\r\n                    </div>\r\n                    \r\n                    <p className=\"text-xs text-gray-500 mt-1\">\r\n                        {formatFileSize(file.file.size)} • {file.file.type}\r\n                    </p>\r\n\r\n                    {/* Validation errors */}\r\n                    {!validation.isValid && validation.errors.length > 0 && (\r\n                        <div className=\"mt-2\">\r\n                            {validation.errors.map((error, index) => (\r\n                                <p key={index} className=\"text-xs text-red-600\">\r\n                                    {error}\r\n                                </p>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Upload error */}\r\n                    {file.status === 'error' && file.error && (\r\n                        <p className=\"text-xs text-red-600 mt-1\">\r\n                            {file.error}\r\n                        </p>\r\n                    )}\r\n\r\n                    {/* Upload progress */}\r\n                    {file.status === 'uploading' && (\r\n                        <div className=\"mt-2\">\r\n                            <div className=\"flex items-center justify-between mb-1\">\r\n                                <span className=\"text-xs text-blue-600\">Uploading...</span>\r\n                                <span className=\"text-xs text-blue-600\">{file.progress}%</span>\r\n                            </div>\r\n                            <div className=\"w-full bg-blue-100 rounded-full h-1\">\r\n                                <div \r\n                                    className=\"bg-blue-500 h-1 rounded-full transition-all duration-300\"\r\n                                    style={{ width: `${file.progress}%` }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Completed status */}\r\n                    {file.status === 'completed' && (\r\n                        <p className=\"text-xs text-green-600 mt-1\">\r\n                            ✅ Upload completed successfully\r\n                        </p>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Image preview for image files */}\r\n            {file.file.type.startsWith('image/') && validation.isValid && (\r\n                <div className=\"mt-3\">\r\n                    <img\r\n                        src={URL.createObjectURL(file.file)}\r\n                        alt={file.file.name}\r\n                        className=\"w-full h-32 object-cover rounded-md border\"\r\n                        onLoad={(e) => {\r\n                            // Clean up object URL to prevent memory leaks\r\n                            setTimeout(() => {\r\n                                URL.revokeObjectURL((e.target as HTMLImageElement).src);\r\n                            }, 1000);\r\n                        }}\r\n                    />\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 512, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/types/Upload.ts"],"sourcesContent":["export interface UploadFileResponse {\r\n    success: boolean;\r\n    message: string;\r\n    data?: {\r\n        attachment: {\r\n            filename: string;\r\n            originalName: string;\r\n            size: number;\r\n            mimeType: string;\r\n            url: string;\r\n            uploadedAt: string;\r\n            fileType: string;\r\n            category: 'image' | 'pdf' | 'document';\r\n        };\r\n    };\r\n    error?: string;\r\n}\r\n\r\nexport interface DeleteFileResponse {\r\n    success: boolean;\r\n    message: string;\r\n    error?: string;\r\n}\r\n\r\nexport const SUPPORTED_TYPES = [\r\n    'application/pdf',\r\n    'image/jpeg',\r\n    'image/png', \r\n    'image/gif',\r\n    'application/msword',\r\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n    'text/plain'\r\n];\r\n\r\nexport const MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB"],"names":[],"mappings":";;;;AAwBO,MAAM,kBAAkB;IAC3B;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AAEM,MAAM,gBAAgB,KAAK,OAAO,MAAM,OAAO","debugId":null}},
    {"offset": {"line": 532, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/lib/utils.ts"],"sourcesContent":["import { MAX_FILE_SIZE, SUPPORTED_TYPES } from \"@/types/Upload\";\r\nimport { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\ninterface CapitalizeFunction {\r\n    (str: string): string;\r\n}\r\n\r\nexport const capitialize: CapitalizeFunction = (str) => str.charAt(0).toUpperCase() + str.slice(1);\r\n\r\n// 📋 Validate file before upload\r\nexport const validateFile = (file: File): string | null => {\r\n    if (!SUPPORTED_TYPES.includes(file.type)) {\r\n        return 'Unsupported file type. Supported: PDF, Images, Word documents, Text files';\r\n    }\r\n\r\n    if (file.size > MAX_FILE_SIZE) {\r\n        return 'File size exceeds 10MB limit';\r\n    }\r\n\r\n    if (file.size === 0) {\r\n        return 'Empty file not allowed';\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n// 📊 Get file info\r\nexport const getFileInfo = (file: File) => {\r\n    return {\r\n        name: file.name,\r\n        size: file.size,\r\n        type: file.type,\r\n        lastModified: file.lastModified,\r\n        category: file.type.startsWith('image/') ? 'image' :\r\n            file.type === 'application/pdf' ? 'pdf' : 'document',\r\n        sizeFormatted: formatFileSize(file.size)\r\n    };\r\n};\r\n\r\n// 📏 Format file size\r\nexport const formatFileSize = (bytes: number): string => {\r\n    if (bytes === 0) return '0 Bytes';\r\n\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n};\r\n\r\n// 📂 Get file category\r\nexport const getFileCategory = (file: File): 'image' | 'pdf' | 'document' => {\r\n    if (file.type.startsWith('image/')) return 'image';\r\n    if (file.type === 'application/pdf') return 'pdf';\r\n    return 'document';\r\n};\r\n\r\n// 🔍 Check if file type is supported\r\nexport const isSupportedFileType = (file: File): boolean => {\r\n    return SUPPORTED_TYPES.includes(file.type);\r\n};\r\n\r\n// 📋 Get supported file types for display\r\nexport const getSupportedFileTypes = () => ({\r\n    types: SUPPORTED_TYPES,\r\n    extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.gif', '.doc', '.docx', '.txt'],\r\n    maxSize: MAX_FILE_SIZE,\r\n    maxSizeFormatted: formatFileSize(MAX_FILE_SIZE)\r\n});\r\n\r\n\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n    return twMerge(clsx(inputs))\r\n}"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AACA;;;;AAKO,MAAM,cAAkC,CAAC,MAAQ,IAAI,MAAM,CAAC,GAAG,WAAW,KAAK,IAAI,KAAK,CAAC;AAGzF,MAAM,eAAe,CAAC;IACzB,IAAI,CAAC,+GAAA,CAAA,kBAAe,CAAC,QAAQ,CAAC,KAAK,IAAI,GAAG;QACtC,OAAO;IACX;IAEA,IAAI,KAAK,IAAI,GAAG,+GAAA,CAAA,gBAAa,EAAE;QAC3B,OAAO;IACX;IAEA,IAAI,KAAK,IAAI,KAAK,GAAG;QACjB,OAAO;IACX;IAEA,OAAO;AACX;AAGO,MAAM,cAAc,CAAC;IACxB,OAAO;QACH,MAAM,KAAK,IAAI;QACf,MAAM,KAAK,IAAI;QACf,MAAM,KAAK,IAAI;QACf,cAAc,KAAK,YAAY;QAC/B,UAAU,KAAK,IAAI,CAAC,UAAU,CAAC,YAAY,UACvC,KAAK,IAAI,KAAK,oBAAoB,QAAQ;QAC9C,eAAe,eAAe,KAAK,IAAI;IAC3C;AACJ;AAGO,MAAM,iBAAiB,CAAC;IAC3B,IAAI,UAAU,GAAG,OAAO;IAExB,MAAM,IAAI;IACV,MAAM,QAAQ;QAAC;QAAS;QAAM;QAAM;KAAK;IACzC,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC;IAEhD,OAAO,WAAW,CAAC,QAAQ,KAAK,GAAG,CAAC,GAAG,EAAE,EAAE,OAAO,CAAC,MAAM,MAAM,KAAK,CAAC,EAAE;AAC3E;AAGO,MAAM,kBAAkB,CAAC;IAC5B,IAAI,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW,OAAO;IAC3C,IAAI,KAAK,IAAI,KAAK,mBAAmB,OAAO;IAC5C,OAAO;AACX;AAGO,MAAM,sBAAsB,CAAC;IAChC,OAAO,+GAAA,CAAA,kBAAe,CAAC,QAAQ,CAAC,KAAK,IAAI;AAC7C;AAGO,MAAM,wBAAwB,IAAM,CAAC;QACxC,OAAO,+GAAA,CAAA,kBAAe;QACtB,YAAY;YAAC;YAAQ;YAAQ;YAAS;YAAQ;YAAQ;YAAQ;YAAS;SAAO;QAC9E,SAAS,+GAAA,CAAA,gBAAa;QACtB,kBAAkB,eAAe,+GAAA,CAAA,gBAAa;IAClD,CAAC;AAIM,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACxB","debugId":null}},
    {"offset": {"line": 615, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/components/ui/ProgressBar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface ProgressBarProps {\r\n    progress: number;\r\n    className?: string;\r\n    showPercentage?: boolean;\r\n    size?: 'sm' | 'md' | 'lg';\r\n    variant?: 'default' | 'success' | 'error';\r\n}\r\n\r\nexport function ProgressBar({ \r\n    progress, \r\n    className,\r\n    showPercentage = true,\r\n    size = 'md',\r\n    variant = 'default'\r\n}: ProgressBarProps) {\r\n    const sizeClasses = {\r\n        sm: 'h-1',\r\n        md: 'h-2',\r\n        lg: 'h-3'\r\n    };\r\n\r\n    const variantClasses = {\r\n        default: 'bg-blue-500',\r\n        success: 'bg-green-500',\r\n        error: 'bg-red-500'\r\n    };\r\n\r\n    return (\r\n        <div className={cn('w-full', className)}>\r\n            <div className={cn(\r\n                'w-full bg-gray-200 rounded-full overflow-hidden',\r\n                sizeClasses[size]\r\n            )}>\r\n                <div\r\n                    className={cn(\r\n                        'h-full rounded-full transition-all duration-300 ease-out',\r\n                        variantClasses[variant]\r\n                    )}\r\n                    style={{ width: `${Math.min(100, Math.max(0, progress))}%` }}\r\n                />\r\n            </div>\r\n            {showPercentage && (\r\n                <div className=\"flex justify-between items-center mt-1\">\r\n                    <span className=\"text-xs text-gray-500\">\r\n                        Uploading...\r\n                    </span>\r\n                    <span className=\"text-xs font-medium text-gray-700\">\r\n                        {Math.round(progress)}%\r\n                    </span>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAYO,SAAS,YAAY,EACxB,QAAQ,EACR,SAAS,EACT,iBAAiB,IAAI,EACrB,OAAO,IAAI,EACX,UAAU,SAAS,EACJ;IACf,MAAM,cAAc;QAChB,IAAI;QACJ,IAAI;QACJ,IAAI;IACR;IAEA,MAAM,iBAAiB;QACnB,SAAS;QACT,SAAS;QACT,OAAO;IACX;IAEA,qBACI,8OAAC;QAAI,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,UAAU;;0BACzB,8OAAC;gBAAI,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACb,mDACA,WAAW,CAAC,KAAK;0BAEjB,cAAA,8OAAC;oBACG,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACR,4DACA,cAAc,CAAC,QAAQ;oBAE3B,OAAO;wBAAE,OAAO,GAAG,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG,WAAW,CAAC,CAAC;oBAAC;;;;;;;;;;;YAGlE,gCACG,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAK,WAAU;kCAAwB;;;;;;kCAGxC,8OAAC;wBAAK,WAAU;;4BACX,KAAK,KAAK,CAAC;4BAAU;;;;;;;;;;;;;;;;;;;AAM9C","debugId":null}},
    {"offset": {"line": 695, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/components/ui/Button.tsx"],"sourcesContent":["// components/ui/button.tsx\r\n\r\nimport * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n    variant?: 'default' | 'destructive' | 'outline' | 'secondary' | 'ghost' | 'link'\r\n    size?: 'default' | 'sm' | 'lg' | 'icon'\r\n    asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant = \"default\", size = \"default\", asChild = false, ...props }, ref) => {\r\n        const baseStyles = \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\"\r\n\r\n        const variants = {\r\n            default: \"bg-primary text-primary-foreground hover:bg-primary/90 bg-blue-600 text-white hover:bg-blue-700\",\r\n            destructive: \"bg-red-600 text-white hover:bg-red-700\",\r\n            outline: \"border border-gray-300 bg-white hover:bg-gray-50 hover:text-gray-900\",\r\n            secondary: \"bg-gray-100 text-gray-900 hover:bg-gray-200\",\r\n            ghost: \"hover:bg-gray-100 hover:text-gray-900\",\r\n            link: \"text-blue-600 underline-offset-4 hover:underline\",\r\n        }\r\n\r\n        const sizes = {\r\n            default: \"h-10 px-4 py-2\",\r\n            sm: \"h-9 rounded-md px-3\",\r\n            lg: \"h-11 rounded-md px-8\",\r\n            icon: \"h-10 w-10\",\r\n        }\r\n\r\n        return (\r\n            <button\r\n                className={cn(\r\n                    baseStyles,\r\n                    variants[variant],\r\n                    sizes[size],\r\n                    className\r\n                )}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button }"],"names":[],"mappings":"AAAA,2BAA2B;;;;;AAE3B;AACA;;;;AAQA,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC1B,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,SAAS,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IAC9E,MAAM,aAAa;IAEnB,MAAM,WAAW;QACb,SAAS;QACT,aAAa;QACb,SAAS;QACT,WAAW;QACX,OAAO;QACP,MAAM;IACV;IAEA,MAAM,QAAQ;QACV,SAAS;QACT,IAAI;QACJ,IAAI;QACJ,MAAM;IACV;IAEA,qBACI,8OAAC;QACG,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACR,YACA,QAAQ,CAAC,QAAQ,EACjB,KAAK,CAAC,KAAK,EACX;QAEJ,KAAK;QACJ,GAAG,KAAK;;;;;;AAGrB;AAEJ,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 739, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/components/ui/Alert.tsx"],"sourcesContent":["// components/ui/alert.tsx\r\n\r\nimport * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Alert = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement> & {\r\n    variant?: 'default' | 'destructive'\r\n}>(({ className, variant = 'default', ...props }, ref) => {\r\n    const variants = {\r\n        default: \"bg-blue-50 border-blue-200 text-blue-800\",\r\n        destructive: \"bg-red-50 border-red-200 text-red-800\",\r\n    }\r\n\r\n    return (\r\n        <div\r\n            ref={ref}\r\n            role=\"alert\"\r\n            className={cn(\r\n                \"relative w-full rounded-lg border p-4\",\r\n                variants[variant],\r\n                className\r\n            )}\r\n            {...props}\r\n        />\r\n    )\r\n})\r\nAlert.displayName = \"Alert\"\r\n\r\nconst AlertDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\r\n    ({ className, ...props }, ref) => (\r\n        <div\r\n            ref={ref}\r\n            className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\r\n            {...props}\r\n        />\r\n    ))\r\nAlertDescription.displayName = \"AlertDescription\"\r\n\r\nconst AlertTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\r\n    ({ className, ...props }, ref) => (\r\n        <h5\r\n            ref={ref}\r\n            className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\r\n            {...props}\r\n        />\r\n    ))\r\nAlertTitle.displayName = \"AlertTitle\"\r\n\r\nexport { Alert, AlertDescription, AlertTitle }"],"names":[],"mappings":"AAAA,0BAA0B;;;;;;;AAE1B;AACA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAE1B,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,GAAG,OAAO,EAAE;IAC9C,MAAM,WAAW;QACb,SAAS;QACT,aAAa;IACjB;IAEA,qBACI,8OAAC;QACG,KAAK;QACL,MAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACR,yCACA,QAAQ,CAAC,QAAQ,EACjB;QAEH,GAAG,KAAK;;;;;;AAGrB;AACA,MAAM,WAAW,GAAG;AAEpB,MAAM,iCAAmB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EACpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACtB,8OAAC;QACG,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGrB,iBAAiB,WAAW,GAAG;AAE/B,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACtB,8OAAC;QACG,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGrB,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 795, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/components/ui/FileUpload.tsx"],"sourcesContent":["// components/ui/upload/FileUpload.tsx\r\n\r\n'use client';\r\n\r\nimport { useCallback, useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { useUpload } from '@/hooks/useUpload';\r\nimport { FilePreview } from './FilePreview';\r\nimport { ProgressBar } from './ProgressBar';\r\nimport { cn } from '@/lib/utils';\r\nimport {\r\n    Upload,\r\n    File,\r\n    AlertCircle,\r\n    CheckCircle2,\r\n    Loader2,\r\n    X,\r\n    FileText,\r\n    Image\r\n} from 'lucide-react';\r\nimport { Button } from './Button';\r\nimport { Alert, AlertDescription } from './Alert';\r\n\r\ninterface FileUploadProps {\r\n    onUploadComplete?: (uploadedFiles: any[]) => void;\r\n    maxFiles?: number;\r\n    className?: string;\r\n}\r\n\r\nexport function FileUpload({\r\n    onUploadComplete,\r\n    maxFiles = 10,\r\n    className\r\n}: FileUploadProps) {\r\n    const {\r\n        files,\r\n        uploading,\r\n        progress,\r\n        uploadedFiles,\r\n        error,\r\n        addFiles,\r\n        removeFile,\r\n        uploadAllFiles,\r\n        reset,\r\n        getStats\r\n    } = useUpload();\r\n\r\n    const [uploadStep, setUploadStep] = useState<'select' | 'preview' | 'uploading' | 'complete'>('select');\r\n\r\n    const isValidFile = (file: File): { isValid: boolean; errors: string[] } => {\r\n        const maxSize = 10 * 1024 * 1024; // 10MB\r\n        const allowedTypes = [\r\n            'application/pdf',\r\n            'image/jpeg',\r\n            'image/png',\r\n            'image/gif',\r\n            'application/msword',\r\n            'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n            'text/plain'\r\n        ];\r\n\r\n        const errors: string[] = [];\r\n\r\n        if (file.size > maxSize) {\r\n            errors.push(`File too large (max 10MB, current: ${(file.size / (1024 * 1024)).toFixed(1)}MB)`);\r\n        }\r\n\r\n        if (!allowedTypes.includes(file.type)) {\r\n            errors.push(`File type not supported (${file.type})`);\r\n        }\r\n\r\n        return {\r\n            isValid: errors.length === 0,\r\n            errors\r\n        };\r\n    };\r\n\r\n    // Handle file drop/select\r\n    const onDrop = useCallback((acceptedFiles: File[], rejectedFiles: any[]) => {\r\n        console.log('Accepted files:', acceptedFiles);\r\n        console.log('Rejected files:', rejectedFiles);\r\n\r\n        // Check total file limit\r\n        if (files.length + acceptedFiles.length > maxFiles) {\r\n            alert(`Maximum ${maxFiles} files allowed. Currently have ${files.length} files.`);\r\n            return;\r\n        }\r\n\r\n        // Additional validation for accepted files (size check)\r\n        const validFiles: File[] = [];\r\n        const invalidFiles: { file: File; errors: string[] }[] = [];\r\n\r\n        acceptedFiles.forEach(file => {\r\n            const validation = isValidFile(file);\r\n            if (validation.isValid) {\r\n                validFiles.push(file);\r\n            } else {\r\n                invalidFiles.push({ file, errors: validation.errors });\r\n            }\r\n        });\r\n\r\n        // Show validation errors if any\r\n        if (invalidFiles.length > 0) {\r\n            console.warn('Invalid files detected:', invalidFiles);\r\n\r\n            // Optional: Show detailed error message\r\n            const errorMessage = invalidFiles.map(({ file, errors }) =>\r\n                `${file.name}: ${errors.join(', ')}`\r\n            ).join('\\n');\r\n\r\n            alert(`Some files were rejected:\\n${errorMessage}`);\r\n        }\r\n\r\n        // Add valid files\r\n        if (validFiles.length > 0) {\r\n            addFiles(validFiles);\r\n            setUploadStep('preview');\r\n        } else if (acceptedFiles.length > 0) {\r\n            // All files were invalid\r\n            alert('No valid files to add. Please check file size and type requirements.');\r\n        }\r\n    }, [addFiles, files.length, maxFiles]);\r\n\r\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n        onDrop,\r\n        multiple: true,\r\n        maxFiles,\r\n        maxSize: 10 * 1024 * 1024, // 10MB limit\r\n        accept: {\r\n            'application/pdf': ['.pdf'],\r\n            'image/jpeg': ['.jpg', '.jpeg'],\r\n            'image/png': ['.png'],\r\n            'image/gif': ['.gif'],\r\n            'application/msword': ['.doc'],\r\n            'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],\r\n            'text/plain': ['.txt']\r\n        },\r\n        onDropRejected: (rejectedFiles) => {\r\n            console.log('Rejected by dropzone:', rejectedFiles);\r\n\r\n            const rejectionReasons = rejectedFiles.map(({ file, errors }) => {\r\n                const reasons = errors.map(error => {\r\n                    switch (error.code) {\r\n                        case 'file-too-large':\r\n                            return 'File too large (max 10MB)';\r\n                        case 'file-invalid-type':\r\n                            return 'Invalid file type';\r\n                        case 'too-many-files':\r\n                            return 'Too many files';\r\n                        default:\r\n                            return error.message;\r\n                    }\r\n                });\r\n                return `${file.name}: ${reasons.join(', ')}`;\r\n            }).join('\\n');\r\n\r\n            alert(`Files rejected:\\n${rejectionReasons}`);\r\n        }\r\n    });\r\n\r\n    // Handle upload process\r\n    const handleUpload = async () => {\r\n        try {\r\n            setUploadStep('uploading');\r\n            const results = await uploadAllFiles();\r\n            setUploadStep('complete');\r\n            onUploadComplete?.(results || []);\r\n        } catch (error) {\r\n            console.error('Upload failed:', error);\r\n            setUploadStep('preview');\r\n        }\r\n    };\r\n\r\n    // Reset to initial state\r\n    const handleReset = () => {\r\n        reset();\r\n        setUploadStep('select');\r\n    };\r\n\r\n    const stats = getStats();\r\n\r\n    return (\r\n        <div className={cn('w-full max-w-4xl mx-auto', className)}>\r\n            {/* Step 1: File Selection */}\r\n            {uploadStep === 'select' && (\r\n                <div className=\"space-y-4\">\r\n                    <div\r\n                        {...getRootProps()}\r\n                        className={cn(\r\n                            'border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors',\r\n                            isDragActive\r\n                                ? 'border-blue-500 bg-blue-50'\r\n                                : 'border-gray-300 hover:border-gray-400'\r\n                        )}\r\n                    >\r\n                        <input {...getInputProps()} />\r\n\r\n                        <div className=\"flex flex-col items-center space-y-4\">\r\n                            <Upload className={cn(\r\n                                'w-12 h-12',\r\n                                isDragActive ? 'text-blue-500' : 'text-gray-400'\r\n                            )} />\r\n\r\n                            <div>\r\n                                <p className=\"text-lg font-medium text-gray-900\">\r\n                                    {isDragActive\r\n                                        ? 'Drop files here...'\r\n                                        : 'Upload your study materials'\r\n                                    }\r\n                                </p>\r\n                                <p className=\"text-sm text-gray-500 mt-1\">\r\n                                    Drag & drop files or click to browse\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div className=\"text-xs text-gray-400 space-y-1\">\r\n                                <p>Supported: PDF, Images (JPG, PNG, GIF), Word docs, Text files</p>\r\n                                <p>Max file size: 10MB • Max files: {maxFiles}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Quick Upload Button */}\r\n                    <div className=\"text-center\">\r\n                        <Button\r\n                            variant=\"outline\"\r\n                            onClick={() => (document.querySelector('input[type=\"file\"]') as HTMLInputElement)?.click()}\r\n                        >\r\n                            <File className=\"w-4 h-4 mr-2\" />\r\n                            Choose Files\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Step 2: Preview & Confirm */}\r\n            {uploadStep === 'preview' && (\r\n                <div className=\"space-y-6\">\r\n                    {/* Header */}\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                                Review Files ({stats.total})\r\n                            </h3>\r\n                            <p className=\"text-sm text-gray-500\">\r\n                                {stats.valid} valid • {stats.invalid} invalid • {stats.totalSizeFormatted}\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"flex space-x-2\">\r\n                            <Button\r\n                                variant=\"outline\"\r\n                                onClick={() => setUploadStep('select')}\r\n                            >\r\n                                Add More\r\n                            </Button>\r\n\r\n                            <Button\r\n                                variant=\"outline\"\r\n                                onClick={handleReset}\r\n                            >\r\n                                <X className=\"w-4 h-4 mr-2\" />\r\n                                Clear All\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* File Previews */}\r\n                    <div className=\"space-y-4\">\r\n                        {files.map((file) => (\r\n                            <FilePreview\r\n                                key={file.id}\r\n                                file={file}\r\n                                onRemove={removeFile}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Upload Actions */}\r\n                    <div className=\"flex items-center justify-between pt-4 border-t\">\r\n                        <div className=\"text-sm text-gray-500\">\r\n                            {stats.valid > 0\r\n                                ? `Ready to upload ${stats.valid} file${stats.valid > 1 ? 's' : ''}`\r\n                                : 'No valid files to upload'\r\n                            }\r\n                        </div>\r\n\r\n                        <div className=\"flex space-x-3\">\r\n                            <Button\r\n                                variant=\"outline\"\r\n                                onClick={() => setUploadStep('select')}\r\n                            >\r\n                                Back\r\n                            </Button>\r\n\r\n                            <Button\r\n                                onClick={handleUpload}\r\n                                disabled={stats.valid === 0}\r\n                                className=\"px-6\"\r\n                            >\r\n                                <Upload className=\"w-4 h-4 mr-2\" />\r\n                                Upload {stats.valid} File{stats.valid > 1 ? 's' : ''}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Step 3: Uploading */}\r\n            {uploadStep === 'uploading' && (\r\n                <div className=\"space-y-6\">\r\n                    <div className=\"text-center space-y-4\">\r\n                        <Loader2 className=\"w-12 h-12 animate-spin text-blue-500 mx-auto\" />\r\n\r\n                        <div>\r\n                            <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                                Uploading Files...\r\n                            </h3>\r\n                            <p className=\"text-sm text-gray-500\">\r\n                                Please don't close this window\r\n                            </p>\r\n                        </div>\r\n\r\n                        {/* Progress Bar */}\r\n                        <div className=\"max-w-md mx-auto\">\r\n                            <ProgressBar\r\n                                progress={progress}\r\n                                variant=\"default\"\r\n                                size=\"md\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Step 4: Complete */}\r\n            {uploadStep === 'complete' && (\r\n                <div className=\"text-center py-4\">\r\n                    <p className=\"text-green-600 font-medium\">\r\n                        ✅ Files uploaded successfully! Scroll down to see details.\r\n                    </p>\r\n                </div>\r\n            )}\r\n\r\n            {/* Error Display */}\r\n            {error && (\r\n                <Alert variant=\"destructive\" className=\"mt-4\">\r\n                    <AlertCircle className=\"h-4 w-4\" />\r\n                    <AlertDescription>\r\n                        {error}\r\n                    </AlertDescription>\r\n                </Alert>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1356, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/app/%28protected%29/%28dashBoard%29/materials/upload/page.tsx"],"sourcesContent":["// app/upload/page.tsx\n\n'use client';\n\nimport { useState } from 'react';\nimport { FileUpload } from '@/components/ui/FileUpload';\nimport { Button } from '@/components/ui/Button';\nimport { Alert, AlertDescription } from '@/components/ui/Alert';\nimport {\n    Upload,\n    FileText,\n    CheckCircle,\n    CheckCircle2,\n    AlertCircle,\n    ArrowLeft,\n    Image,\n    File,\n} from 'lucide-react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\n\nexport default function UploadPage() {\n    const router = useRouter();\n    const [uploadResults, setUploadResults] = useState<any[]>([]);\n    const [showResults, setShowResults] = useState(false);\n\n    const handleUploadComplete = (results: any[]) => {\n        console.log('Upload completed:', results);\n        setUploadResults(results);\n        setShowResults(true);\n    };\n\n    const resetUpload = () => {\n        setUploadResults([]);\n        setShowResults(false);\n    };\n\n    return (\n        <div className=\"min-h-screen bg-background\">\n            {/* Header */}\n            <div className=\"bg-card\">\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n                    <div className=\"flex items-center justify-between h-16\">\n                        <Link href=\"/\">\n                            <Button variant=\"ghost\" size=\"sm\" className=\"cursor-pointer\">\n                                <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                                Back to Home\n                            </Button>\n                        </Link>\n                    </div>\n                </div>\n            </div>\n\n            {/* Main Content */}\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n                {!showResults ? (\n                    // Upload Interface\n                    <div className=\"space-y-6\">\n                        {/* Instructions */}\n                        <div className=\"bg-card rounded-lg shadow-sm border p-6\">\n                            <div className=\"flex items-start space-x-3\">\n                                <FileText className=\"w-6 h-6 text-primary mt-1\" />\n                                <div>\n                                    <h2 className=\"text-lg font-medium text-foreground mb-2\">\n                                        Upload Your Study Materials\n                                    </h2>\n                                    <p className=\"text-muted-foreground mb-4\">\n                                        Upload documents, images, and other study materials to organize your learning resources.\n                                        All files are securely stored and easily accessible.\n                                    </p>\n\n                                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n                                        <div className=\"flex items-center space-x-2\">\n                                            <CheckCircle className=\"w-4 h-4 text-primary\" />\n                                            <span className=\"text-foreground\">PDF Documents</span>\n                                        </div>\n                                        <div className=\"flex items-center space-x-2\">\n                                            <CheckCircle className=\"w-4 h-4 text-primary\" />\n                                            <span className=\"text-foreground\">Images (JPG, PNG, GIF)</span>\n                                        </div>\n                                        <div className=\"flex items-center space-x-2\">\n                                            <CheckCircle className=\"w-4 h-4 text-primary\" />\n                                            <span className=\"text-foreground\">Word Documents</span>\n                                        </div>\n                                        <div className=\"flex items-center space-x-2\">\n                                            <CheckCircle className=\"w-4 h-4 text-primary\" />\n                                            <span className=\"text-foreground\">Text Files</span>\n                                        </div>\n                                        <div className=\"flex items-center space-x-2\">\n                                            <CheckCircle className=\"w-4 h-4 text-primary\" />\n                                            <span className=\"text-foreground\">Max 10MB per file</span>\n                                        </div>\n                                        <div className=\"flex items-center space-x-2\">\n                                            <CheckCircle className=\"w-4 h-4 text-primary\" />\n                                            <span className=\"text-foreground\">Up to 10 files</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Upload Component */}\n                        <div className=\"bg-card rounded-lg shadow-sm border p-6\">\n                            <FileUpload\n                                onUploadComplete={handleUploadComplete}\n                                maxFiles={10}\n                            />\n                        </div>\n                    </div>\n                ) : (\n                    // Results Display\n                    <div className=\"text-center py-8\">\n                        <div className=\"inline-flex items-center justify-center p-4 bg-primary/10 rounded-full mb-4\">\n                            <CheckCircle className=\"w-8 h-8 text-primary\" />\n                        </div>\n                        <h2 className=\"text-2xl font-bold text-foreground mb-2\">\n                            Files Ready for Processing\n                        </h2>\n                        <p className=\"text-muted-foreground\">\n                            View the details below.\n                        </p>\n                    </div>\n                )}\n            </div>\n\n            {/* Upload Results Summary */}\n            {uploadResults.length > 0 && (\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8\">\n                    <div className=\"bg-card border border-border rounded-xl p-8 shadow-2xl\">\n                        {/* Upload Summary Grid */}\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                            {uploadResults.map((result, index) => (\n                                <div\n                                    key={index}\n                                    className=\"bg-background border rounded-lg p-5 hover:shadow-md transition-shadow cursor-pointer\"\n                                >\n                                    {/* File Icon & Status */}\n                                    <div className=\"flex items-start justify-between mb-4\">\n                                        <div className=\"flex items-center space-x-3\">\n                                            <div className=\"w-10 h-10 bg-primary/5 rounded-lg flex items-center justify-center\">\n                                                {result?.data?.attachment?.originalName?.toLowerCase().endsWith('.pdf') ? (\n                                                    <FileText className=\"w-5 h-5 text-destructive\" />\n                                                ) : result?.data?.attachment?.originalName?.toLowerCase().endsWith('.docx') ? (\n                                                    <FileText className=\"w-5 h-5 text-primary\" />\n                                                ) : result?.data?.attachment?.originalName?.toLowerCase().match(/\\.(jpg|jpeg|png|gif)$/) ? (\n                                                    <Image className=\"w-5 h-5 text-primary\" />\n                                                ) : (\n                                                    <File className=\"w-5 h-5 text-muted-foreground\" />\n                                                )}\n                                            </div>\n                                            <div>\n                                                <h4 className=\"font-medium text-foreground text-sm truncate\" title={result?.data?.attachment?.originalName}>\n                                                    {result?.data?.attachment?.originalName || 'Unknown file'}\n                                                </h4>\n                                                <p className=\"text-xs text-muted-foreground\">\n                                                    {result?.data?.attachment?.size ?\n                                                        `${(result.data.attachment.size / 1024).toFixed(1)} KB` :\n                                                        'Size unknown'}\n                                                </p>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    {/* File Actions */}\n                                    <div className=\"flex space-x-3\">\n                                        <Button\n                                            variant=\"outline\"\n                                            size=\"sm\"\n                                            className=\"flex-1 text-xs cursor-pointer\"\n                                            onClick={() => {\n                                                if (result?.data?.attachment?.url) {\n                                                    window.open(result.data.attachment.url, '_blank');\n                                                }\n                                            }}\n                                            disabled={!result?.data?.attachment?.url}\n                                        >\n                                            👁️ View\n                                        </Button>\n                                        <Button\n                                            variant=\"outline\"\n                                            size=\"sm\"\n                                            className=\"flex-1 text-xs cursor-pointer\"\n                                            onClick={() => {\n                                                // Add to study session logic\n                                                console.log('Add to study:', result);\n                                            }}\n                                        >\n                                            📚 Study\n                                        </Button>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n\n                        {/* Upload Statistics */}\n                        <div className=\"mt-10 pt-6 border-t border-border/50\">\n                            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6 text-center\">\n                                <div>\n                                    <p className=\"text-3xl font-bold text-foreground\">\n                                        {uploadResults.length}\n                                    </p>\n                                    <p className=\"text-sm text-muted-foreground mt-1\">Documents</p>\n                                </div>\n                                <div>\n                                    <p className=\"text-3xl font-bold text-foreground\">\n                                        {(() => {\n                                            const totalSize = uploadResults.reduce((total, result) =>\n                                                total + (result?.data?.attachment?.size || 0), 0\n                                            );\n                                            return totalSize > 1024 * 1024 ?\n                                                `${(totalSize / (1024 * 1024)).toFixed(1)}MB` :\n                                                `${(totalSize / 1024).toFixed(1)}KB`;\n                                        })()}\n                                    </p>\n                                    <p className=\"text-sm text-muted-foreground mt-1\">Total Size</p>\n                                </div>\n                                <div>\n                                    <p className=\"text-3xl font-bold text-primary\">\n                                        {uploadResults.filter(r => r?.success).length}\n                                    </p>\n                                    <p className=\"text-sm text-muted-foreground mt-1\">Successful</p>\n                                </div>\n                                <div>\n                                    <p className=\"text-3xl font-bold text-primary\">Ready</p>\n                                    <p className=\"text-sm text-muted-foreground mt-1\">Status</p>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Next Steps */}\n                        <div className=\"mt-10 pt-6 border-t border-border/50\">\n                            <h4 className=\"font-medium text-foreground mb-4\">🚀 What's Next?</h4>\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div className=\"flex items-center space-x-4 p-4 bg-primary/5 rounded-lg border cursor-pointer hover:bg-primary/10 transition-colors\">\n                                    <span className=\"text-2xl\">🧠</span>\n                                    <div>\n                                        <p className=\"font-medium text-foreground\">Start Learning</p>\n                                        <p className=\"text-sm text-muted-foreground\">Generate quizzes and flashcards</p>\n                                    </div>\n                                </div>\n                                <div className=\"flex items-center space-x-4 p-4 bg-primary/5 rounded-lg border cursor-pointer hover:bg-primary/10 transition-colors\">\n                                    <span className=\"text-2xl\">📊</span>\n                                    <div>\n                                        <p className=\"font-medium text-foreground\">Track Progress</p>\n                                        <p className=\"text-sm text-muted-foreground\">Monitor your study sessions</p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Action Buttons */}\n                        <div className=\"mt-10\">\n                            <div className=\"flex justify-end space-x-4\">\n                                <Button\n                                    variant=\"outline\"\n                                    onClick={resetUpload}\n                                    className=\"cursor-pointer\"\n                                >\n                                    Upload More Files\n                                </Button>\n                                <Button\n                                    onClick={() => router.push('/dashboard')}\n                                    className=\"bg-primary hover:bg-primary/90 text-primary-foreground cursor-pointer\"\n                                >\n                                    Start Studying\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}"],"names":[],"mappings":"AAAA,sBAAsB;;;;;AAItB;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAjBA;;;;;;;;AAmBe,SAAS;IACpB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IAC5D,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,MAAM,uBAAuB,CAAC;QAC1B,QAAQ,GAAG,CAAC,qBAAqB;QACjC,iBAAiB;QACjB,eAAe;IACnB;IAEA,MAAM,cAAc;QAChB,iBAAiB,EAAE;QACnB,eAAe;IACnB;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;sCACP,cAAA,8OAAC,2HAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAQ,MAAK;gCAAK,WAAU;;kDACxC,8OAAC,gNAAA,CAAA,YAAS;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAS1D,8OAAC;gBAAI,WAAU;0BACV,CAAC,cACE,mBAAmB;8BACnB,8OAAC;oBAAI,WAAU;;sCAEX,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,8MAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;kDACpB,8OAAC;;0DACG,8OAAC;gDAAG,WAAU;0DAA2C;;;;;;0DAGzD,8OAAC;gDAAE,WAAU;0DAA6B;;;;;;0DAK1C,8OAAC;gDAAI,WAAU;;kEACX,8OAAC;wDAAI,WAAU;;0EACX,8OAAC,2NAAA,CAAA,cAAW;gEAAC,WAAU;;;;;;0EACvB,8OAAC;gEAAK,WAAU;0EAAkB;;;;;;;;;;;;kEAEtC,8OAAC;wDAAI,WAAU;;0EACX,8OAAC,2NAAA,CAAA,cAAW;gEAAC,WAAU;;;;;;0EACvB,8OAAC;gEAAK,WAAU;0EAAkB;;;;;;;;;;;;kEAEtC,8OAAC;wDAAI,WAAU;;0EACX,8OAAC,2NAAA,CAAA,cAAW;gEAAC,WAAU;;;;;;0EACvB,8OAAC;gEAAK,WAAU;0EAAkB;;;;;;;;;;;;kEAEtC,8OAAC;wDAAI,WAAU;;0EACX,8OAAC,2NAAA,CAAA,cAAW;gEAAC,WAAU;;;;;;0EACvB,8OAAC;gEAAK,WAAU;0EAAkB;;;;;;;;;;;;kEAEtC,8OAAC;wDAAI,WAAU;;0EACX,8OAAC,2NAAA,CAAA,cAAW;gEAAC,WAAU;;;;;;0EACvB,8OAAC;gEAAK,WAAU;0EAAkB;;;;;;;;;;;;kEAEtC,8OAAC;wDAAI,WAAU;;0EACX,8OAAC,2NAAA,CAAA,cAAW;gEAAC,WAAU;;;;;;0EACvB,8OAAC;gEAAK,WAAU;0EAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAQtD,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC,+HAAA,CAAA,aAAU;gCACP,kBAAkB;gCAClB,UAAU;;;;;;;;;;;;;;;;2BAKtB,kBAAkB;8BAClB,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC,2NAAA,CAAA,cAAW;gCAAC,WAAU;;;;;;;;;;;sCAE3B,8OAAC;4BAAG,WAAU;sCAA0C;;;;;;sCAGxD,8OAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;;;;;;YAQhD,cAAc,MAAM,GAAG,mBACpB,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,WAAU;;sCAEX,8OAAC;4BAAI,WAAU;sCACV,cAAc,GAAG,CAAC,CAAC,QAAQ,sBACxB,8OAAC;oCAEG,WAAU;;sDAGV,8OAAC;4CAAI,WAAU;sDACX,cAAA,8OAAC;gDAAI,WAAU;;kEACX,8OAAC;wDAAI,WAAU;kEACV,QAAQ,MAAM,YAAY,cAAc,cAAc,SAAS,wBAC5D,8OAAC,8MAAA,CAAA,WAAQ;4DAAC,WAAU;;;;;mEACpB,QAAQ,MAAM,YAAY,cAAc,cAAc,SAAS,yBAC/D,8OAAC,8MAAA,CAAA,WAAQ;4DAAC,WAAU;;;;;mEACpB,QAAQ,MAAM,YAAY,cAAc,cAAc,MAAM,yCAC5D,8OAAC,oMAAA,CAAA,QAAK;4DAAC,WAAU;;;;;iFAEjB,8OAAC,kMAAA,CAAA,OAAI;4DAAC,WAAU;;;;;;;;;;;kEAGxB,8OAAC;;0EACG,8OAAC;gEAAG,WAAU;gEAA+C,OAAO,QAAQ,MAAM,YAAY;0EACzF,QAAQ,MAAM,YAAY,gBAAgB;;;;;;0EAE/C,8OAAC;gEAAE,WAAU;0EACR,QAAQ,MAAM,YAAY,OACvB,GAAG,CAAC,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC,GAAG,GAAG,CAAC,GACvD;;;;;;;;;;;;;;;;;;;;;;;sDAOpB,8OAAC;4CAAI,WAAU;;8DACX,8OAAC,2HAAA,CAAA,SAAM;oDACH,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS;wDACL,IAAI,QAAQ,MAAM,YAAY,KAAK;4DAC/B,OAAO,IAAI,CAAC,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE;wDAC5C;oDACJ;oDACA,UAAU,CAAC,QAAQ,MAAM,YAAY;8DACxC;;;;;;8DAGD,8OAAC,2HAAA,CAAA,SAAM;oDACH,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS;wDACL,6BAA6B;wDAC7B,QAAQ,GAAG,CAAC,iBAAiB;oDACjC;8DACH;;;;;;;;;;;;;mCArDA;;;;;;;;;;sCA8DjB,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;;0DACG,8OAAC;gDAAE,WAAU;0DACR,cAAc,MAAM;;;;;;0DAEzB,8OAAC;gDAAE,WAAU;0DAAqC;;;;;;;;;;;;kDAEtD,8OAAC;;0DACG,8OAAC;gDAAE,WAAU;0DACR,CAAC;oDACE,MAAM,YAAY,cAAc,MAAM,CAAC,CAAC,OAAO,SAC3C,QAAQ,CAAC,QAAQ,MAAM,YAAY,QAAQ,CAAC,GAAG;oDAEnD,OAAO,YAAY,OAAO,OACtB,GAAG,CAAC,YAAY,CAAC,OAAO,IAAI,CAAC,EAAE,OAAO,CAAC,GAAG,EAAE,CAAC,GAC7C,GAAG,CAAC,YAAY,IAAI,EAAE,OAAO,CAAC,GAAG,EAAE,CAAC;gDAC5C,CAAC;;;;;;0DAEL,8OAAC;gDAAE,WAAU;0DAAqC;;;;;;;;;;;;kDAEtD,8OAAC;;0DACG,8OAAC;gDAAE,WAAU;0DACR,cAAc,MAAM,CAAC,CAAA,IAAK,GAAG,SAAS,MAAM;;;;;;0DAEjD,8OAAC;gDAAE,WAAU;0DAAqC;;;;;;;;;;;;kDAEtD,8OAAC;;0DACG,8OAAC;gDAAE,WAAU;0DAAkC;;;;;;0DAC/C,8OAAC;gDAAE,WAAU;0DAAqC;;;;;;;;;;;;;;;;;;;;;;;sCAM9D,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAG,WAAU;8CAAmC;;;;;;8CACjD,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAK,WAAU;8DAAW;;;;;;8DAC3B,8OAAC;;sEACG,8OAAC;4DAAE,WAAU;sEAA8B;;;;;;sEAC3C,8OAAC;4DAAE,WAAU;sEAAgC;;;;;;;;;;;;;;;;;;sDAGrD,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAK,WAAU;8DAAW;;;;;;8DAC3B,8OAAC;;sEACG,8OAAC;4DAAE,WAAU;sEAA8B;;;;;;sEAC3C,8OAAC;4DAAE,WAAU;sEAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAO7D,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,2HAAA,CAAA,SAAM;wCACH,SAAQ;wCACR,SAAS;wCACT,WAAU;kDACb;;;;;;kDAGD,8OAAC,2HAAA,CAAA,SAAM;wCACH,SAAS,IAAM,OAAO,IAAI,CAAC;wCAC3B,WAAU;kDACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjC","debugId":null}}]
}
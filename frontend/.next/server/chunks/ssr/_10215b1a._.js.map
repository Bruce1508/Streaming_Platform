{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/components/ui/FriendCard.tsx"],"sourcesContent":["import Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { LANGUAGE_TO_FLAG } from \"@/constants\";\r\n\r\ninterface Friend {\r\n    _id: string;\r\n    fullName?: string;\r\n    profilePic?: string;\r\n    nativeLanguage?: string;\r\n    learningLanguage?: string;\r\n    bio?: string;\r\n    location?: string;\r\n}\r\n\r\ninterface FriendCardProps {\r\n    friend: Friend;\r\n}\r\n\r\nconst FriendCard = ({ friend }: FriendCardProps) => {\r\n    return (\r\n        <div className=\"card bg-base-200 hover:shadow-md transition-shadow\">\r\n            <div className=\"card-body p-4\">\r\n                {/* USER INFO */}\r\n                <div className=\"flex items-center gap-3 mb-3\">\r\n                    <div className=\"avatar size-12 rounded-full overflow-hidden relative\">\r\n                        <Image\r\n                            src={friend.profilePic}\r\n                            alt={friend.fullName}\r\n                            fill\r\n                            className=\"object-cover\"\r\n                            sizes=\"48px\"\r\n                            priority={false}\r\n                        />\r\n                    </div>\r\n                    <h3 className=\"font-semibold truncate\">{friend.fullName}</h3>\r\n                </div>\r\n\r\n                {/* LANGUAGES */}\r\n                <div className=\"flex flex-wrap gap-1.5 mb-3\">\r\n                    <span className=\"badge badge-secondary text-xs\">\r\n                        {getLanguageFlag(friend.nativeLanguage)}\r\n                        Native: {friend.nativeLanguage}\r\n                    </span>\r\n                    <span className=\"badge badge-outline text-xs\">\r\n                        {getLanguageFlag(friend.learningLanguage)}\r\n                        Learning: {friend.learningLanguage}\r\n                    </span>\r\n                </div>\r\n\r\n                {/* MESSAGE BUTTON */}\r\n                <Link href={`/chat/${friend._id}`} className=\"btn btn-outline w-full\">\r\n                    Message\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FriendCard;\r\n\r\n// Language flag helper function with Next.js Image\r\nexport function getLanguageFlag(language: string) {\r\n    if (!language) return null;\r\n\r\n    const langLower = language.toLowerCase();\r\n    const countryCode = LANGUAGE_TO_FLAG[langLower as keyof typeof LANGUAGE_TO_FLAG];\r\n\r\n    if (countryCode) {\r\n        return (\r\n            <div className=\"inline-block w-6 h-[18px] mr-1 relative\">\r\n                <Image\r\n                    src={`https://flagcdn.com/24x18/${countryCode}.png`}\r\n                    alt={`${langLower} flag`}\r\n                    width={24}\r\n                    height={18}\r\n                    className=\"object-cover\"\r\n                    unoptimized // For external images\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return null;\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAgBA,MAAM,aAAa,CAAC,EAAE,MAAM,EAAmB;IAC3C,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BAEX,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC,6HAAA,CAAA,UAAK;gCACF,KAAK,OAAO,UAAU;gCACtB,KAAK,OAAO,QAAQ;gCACpB,IAAI;gCACJ,WAAU;gCACV,OAAM;gCACN,UAAU;;;;;;;;;;;sCAGlB,8OAAC;4BAAG,WAAU;sCAA0B,OAAO,QAAQ;;;;;;;;;;;;8BAI3D,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAK,WAAU;;gCACX,gBAAgB,OAAO,cAAc;gCAAE;gCAC/B,OAAO,cAAc;;;;;;;sCAElC,8OAAC;4BAAK,WAAU;;gCACX,gBAAgB,OAAO,gBAAgB;gCAAE;gCAC/B,OAAO,gBAAgB;;;;;;;;;;;;;8BAK1C,8OAAC,4JAAA,CAAA,UAAI;oBAAC,MAAM,CAAC,MAAM,EAAE,OAAO,GAAG,EAAE;oBAAE,WAAU;8BAAyB;;;;;;;;;;;;;;;;;AAMtF;uCAEe;AAGR,SAAS,gBAAgB,QAAgB;IAC5C,IAAI,CAAC,UAAU,OAAO;IAEtB,MAAM,YAAY,SAAS,WAAW;IACtC,MAAM,cAAc,kHAAA,CAAA,mBAAgB,CAAC,UAA2C;IAEhF,IAAI,aAAa;QACb,qBACI,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC,6HAAA,CAAA,UAAK;gBACF,KAAK,CAAC,0BAA0B,EAAE,YAAY,IAAI,CAAC;gBACnD,KAAK,GAAG,UAAU,KAAK,CAAC;gBACxB,OAAO;gBACP,QAAQ;gBACR,WAAU;gBACV,WAAW;;;;;;;;;;;IAI3B;IAEA,OAAO;AACX","debugId":null}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/components/ui/NoFriendFound.tsx"],"sourcesContent":["import Link from \"next/link\";\r\nimport { UserPlusIcon, UsersIcon } from \"lucide-react\";\r\n\r\nconst NoFriendsFound = () => {\r\n    return (\r\n        <div className=\"card bg-base-200 p-8 text-center\">\r\n            <div className=\"mb-6\">\r\n                <UsersIcon className=\"size-16 mx-auto text-base-content opacity-30 mb-4\" />\r\n                <h3 className=\"font-semibold text-xl mb-2\">No Friends Yet</h3>\r\n                <p className=\"text-base-content opacity-70 max-w-md mx-auto\">\r\n                    Start your language learning journey by connecting with other learners!\r\n                    Send friend requests to people who share your language interests.\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col sm:flex-row gap-3 justify-center items-center\">\r\n                <Link href=\"/notifications\" className=\"btn btn-outline\">\r\n                    <UsersIcon className=\"size-4 mr-2\" />\r\n                    Check Friend Requests\r\n                </Link>\r\n\r\n                <span className=\"text-sm opacity-70\">or</span>\r\n\r\n                <div className=\"flex items-center text-sm opacity-70\">\r\n                    <UserPlusIcon className=\"size-4 mr-1\" />\r\n                    Browse recommended users below\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NoFriendsFound;"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACnB,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,wMAAA,CAAA,YAAS;wBAAC,WAAU;;;;;;kCACrB,8OAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,8OAAC;wBAAE,WAAU;kCAAgD;;;;;;;;;;;;0BAMjE,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAiB,WAAU;;0CAClC,8OAAC,wMAAA,CAAA,YAAS;gCAAC,WAAU;;;;;;4BAAgB;;;;;;;kCAIzC,8OAAC;wBAAK,WAAU;kCAAqB;;;;;;kCAErC,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,kNAAA,CAAA,eAAY;gCAAC,WAAU;;;;;;4BAAgB;;;;;;;;;;;;;;;;;;;AAM5D;uCAEe","debugId":null}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/lib/tokenUtils.ts"],"sourcesContent":["export const getValidToken = (): string | null => {\r\n    // Try localStorage first\r\n    const storageToken = localStorage.getItem(\"auth_token\");\r\n    if (storageToken && storageToken !== 'null' && storageToken !== 'undefined') {\r\n        return typeof storageToken === 'string' ? storageToken : String(storageToken);\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n\r\n\r\n"],"names":[],"mappings":";;;AAAO,MAAM,gBAAgB;IACzB,yBAAyB;IACzB,MAAM,eAAe,aAAa,OAAO,CAAC;IAC1C,IAAI,gBAAgB,iBAAiB,UAAU,iBAAiB,aAAa;QACzE,OAAO,OAAO,iBAAiB,WAAW,eAAe,OAAO;IACpE;IAEA,OAAO;AACX","debugId":null}},
    {"offset": {"line": 278, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/hooks/useFriend.ts"],"sourcesContent":["import { useAuth } from \"@/contexts/AuthContext\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { makeAuthenticationRequest } from \"@/lib/api\";\r\nimport { getValidToken } from \"@/lib/tokenUtils\";\r\nimport { FriendRequest, Friend } from \"@/types/Friend\";\r\n\r\nexport function useFriend() {\r\n    const { user, token } = useAuth();\r\n    const [friends, setFriends] = useState<Friend[]>([]);\r\n    const [friendRequests, setFriendRequests] = useState<FriendRequest[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [sentRequests, setSentRequests] = useState<FriendRequest[]>([]);\r\n\r\n    //fetch our friends\r\n    const fetchFriendData = async () => {\r\n        try {\r\n            setLoading(true);\r\n            console.log('üîÑ Fetching friend data from /me/friends...');\r\n\r\n            // ‚úÖ Use new consolidated endpoint\r\n            const response = await makeAuthenticationRequest('/users/me/friends');\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n\r\n                console.log('‚úÖ Friend data received:', {\r\n                    friendsCount: data.friends?.length || 0,\r\n                    receivedRequestsCount: data.receivedFriendRequests?.length || 0,\r\n                    sentRequestsCount: data.sentFriendRequests?.length || 0\r\n                });\r\n\r\n                setFriends(data.friends || []);\r\n                setFriendRequests(data.receivedFriendRequests || []);\r\n                setSentRequests(data.sentFriendRequests || []); // ‚úÖ Set sent requests from FriendRequest collection\r\n            } else {\r\n                console.error('‚ùå Failed to fetch friend data:', response.status);\r\n            }\r\n        } catch (error) {\r\n            console.error('‚ùå Error fetching friend data:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    const fetchFriendRequests = async () => {\r\n        try {\r\n            const validToken = getValidToken();\r\n\r\n            if (!validToken) {\r\n                console.error('‚ùå No auth token for fetchFriendRequests');\r\n                return;\r\n            }\r\n\r\n            const response = await fetch(\r\n                `${process.env.NEXT_PUBLIC_API_URL}/users/friend-requests`,\r\n                {\r\n                    headers: {\r\n                        Authorization: `Bearer ${validToken}`,\r\n                    },\r\n                }\r\n            );\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setFriendRequests(data.incomingRequests || []);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching friend requests:\", error);\r\n        }\r\n    };\r\n\r\n    //sau n√†y chuy·ªÉn v√†o api.ts\r\n    const sendFriendRequest = async (recipientId: string) => {\r\n        try {\r\n            const validToken = getValidToken();\r\n            if (!validToken) {\r\n                throw new Error('No authentication token');\r\n            }\r\n\r\n            const response = await makeAuthenticationRequest(\r\n                `/users/friend-request/${recipientId}`,\r\n                { method: 'POST' }\r\n            );\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.message || 'Failed to send friend request');\r\n            }\r\n            await fetchFriendData();\r\n            return true;\r\n\r\n        } catch (error: any) {\r\n            console.error(\"Error sending friend request:\", error);\r\n            // ‚úÖ Re-throw to let component handle the error\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchFriendData();\r\n    }, []);\r\n\r\n    const acceptFriendRequest = async (requestId: string) => {\r\n        try {\r\n            const token = localStorage.getItem(\"auth_token\");\r\n            const response = await fetch(\r\n                `${process.env.NEXT_PUBLIC_API_URL}/users/friend-request/${requestId}/accept`,\r\n                {\r\n                    method: \"PUT\",\r\n                    headers: {\r\n                        Authorization: `Bearer ${token}`,\r\n                    },\r\n                }\r\n            );\r\n            if (response.ok) {\r\n                // await fetchFriends();\r\n                await fetchFriendRequests();\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error accepting friend request:\", error);\r\n        }\r\n    };\r\n\r\n    const declineFriendRequest = async (requestId: string) => {\r\n        try {\r\n            const token = localStorage.getItem(\"auth_token\");\r\n            const response = await fetch(\r\n                `${process.env.NEXT_PUBLIC_API_URL}/users/friend-request/${requestId}/decline`,\r\n                {\r\n                    method: \"PUT\",\r\n                    headers: {\r\n                        Authorization: `Bearer ${token}`,\r\n                    },\r\n                }\r\n            );\r\n            if (response.ok) {\r\n                await fetchFriendRequests();\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error declining friend request:\", error);\r\n        }\r\n    };\r\n\r\n    const removeFriend = async (friendId: string) => {\r\n        try {\r\n            const response = await makeAuthenticationRequest(\r\n                `/users/friends/${friendId}`,\r\n                { method: 'DELETE' }\r\n            );\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.message || 'Failed to remove friend');\r\n            }\r\n\r\n            await fetchFriendData(); // ‚úÖ Consistent refresh\r\n            return true;\r\n        } catch (error: any) {\r\n            console.error(\"Error removing friend:\", error);\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    const cancelFriendRequest = async (recipientId: string) => {\r\n        try {\r\n            const validToken = getValidToken();\r\n            if (!validToken) {\r\n                throw new Error('No authentication token');\r\n            }\r\n\r\n            // ‚úÖ Use consistent API pattern\r\n            const response = await makeAuthenticationRequest(\r\n                `/users/friend-request/${recipientId}/cancel`,\r\n                { method: 'DELETE' }\r\n            );\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.message || 'Failed to cancel friend request');\r\n            }\r\n\r\n            // ‚úÖ Use consistent refresh pattern\r\n            await fetchFriendData();\r\n            return true;\r\n\r\n        } catch (error: any) {\r\n            console.error(\"Error canceling friend request:\", error);\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (user?._id) {\r\n            fetchFriendData();\r\n        }\r\n    }, [user?._id, token]);\r\n\r\n    return {\r\n        friends,\r\n        friendRequests,\r\n        loading,\r\n        sentRequests,\r\n        sendFriendRequest,\r\n        cancelFriendRequest,  \r\n        acceptFriendRequest,\r\n        declineFriendRequest,\r\n        removeFriend,\r\n        refreshFriends: fetchFriendData, // ‚úÖ Use consolidated function\r\n        refreshRequests: fetchFriendData, // ‚úÖ Use consolidated function\r\n        friendsLoading: loading\r\n    };\r\n\r\n\r\n} //end of useFriend()"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 466, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/app/%28protected%29/%28dashBoard%29/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { UsersIcon } from \"lucide-react\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport FriendCard from \"@/components/ui/FriendCard\";\r\nimport NoFriendsFound from \"@/components/ui/NoFriendFound\";\r\nimport { useFriend } from \"@/hooks/useFriend\";\r\n\r\nexport default function HomePage() {\r\n\tconst { user } = useAuth();\r\n\r\n\tconsole.log(\"üè† HomePage component loaded!\");\r\n\r\n\tconst {\r\n\t\tfriends,\r\n\t\tfriendRequests,\r\n\t\tloading: loadingFriends,\r\n\t\tacceptFriendRequest,\r\n\t\tdeclineFriendRequest,\r\n\t} = useFriend();\r\n\r\n\treturn (\r\n\t\t<div className=\"p-4 sm:p-6 lg:p-8\">\r\n\t\t\t<div className=\"container mx-auto space-y-10\">\r\n\t\t\t\t{/* Welcome Section */}\r\n\t\t\t\t<div className=\"text-center py-8\">\r\n\t\t\t\t\t<h1 className=\"text-4xl font-bold mb-4\">\r\n\t\t\t\t\t\tWelcome back, {user?.fullName || 'Learner'} \r\n\t\t\t\t\t</h1>\r\n\t\t\t\t\t<p className=\"text-lg text-base-content/70\">\r\n\t\t\t\t\t\tReady to continue your language learning journey?\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Quick Stats */}\r\n\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10\">\r\n\t\t\t\t\t<div className=\"stat bg-base-200 rounded-box\">\r\n\t\t\t\t\t\t<div className=\"stat-title\">Total Friends</div>\r\n\t\t\t\t\t\t<div className=\"stat-value\">{friends.length}</div>\r\n\t\t\t\t\t\t<div className=\"stat-desc\">Language partners</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"stat bg-base-200 rounded-box\">\r\n\t\t\t\t\t\t<div className=\"stat-title\">Friend Requests</div>\r\n\t\t\t\t\t\t<div className=\"stat-value\">{friendRequests.length}</div>\r\n\t\t\t\t\t\t<div className=\"stat-desc\">Pending requests</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"stat bg-base-200 rounded-box\">\r\n\t\t\t\t\t\t<div className=\"stat-title\">Active Today</div>\r\n\t\t\t\t\t\t<div className=\"stat-value\">{friends.filter(f => f.isOnline).length}</div>\r\n\t\t\t\t\t\t<div className=\"stat-desc\">Friends online</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Friends Section Header */}\r\n\t\t\t\t<div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\r\n\t\t\t\t\t<h2 className=\"text-2xl sm:text-3xl font-bold tracking-tight\">Your Friends</h2>\r\n\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t<Link href=\"/friends\" className=\"btn btn-primary btn-sm\">\r\n\t\t\t\t\t\t\t<UsersIcon className=\"mr-2 size-4\" />\r\n\t\t\t\t\t\t\tView All Friends\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link href=\"/friends/add\" className=\"btn btn-outline btn-sm\">\r\n\t\t\t\t\t\t\tFind New Friends\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Friend Requests Alert */}\r\n\t\t\t\t{friendRequests.length > 0 && (\r\n\t\t\t\t\t<div className=\"alert alert-info\">\r\n\t\t\t\t\t\t<UsersIcon className=\"w-5 h-5\" />\r\n\t\t\t\t\t\t<span>You have {friendRequests.length} pending friend request(s)</span>\r\n\t\t\t\t\t\t<Link href=\"/friends\" className=\"btn btn-sm\">\r\n\t\t\t\t\t\t\tView Requests\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{/* Friends List */}\r\n\t\t\t\t{loadingFriends ? (\r\n\t\t\t\t\t<div className=\"flex justify-center py-12\">\r\n\t\t\t\t\t\t<span className=\"loading loading-spinner loading-lg\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : friends.length === 0 ? (\r\n\t\t\t\t\t<NoFriendsFound />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\r\n\t\t\t\t\t\t{friends.slice(0, 8).map((friend) => (\r\n\t\t\t\t\t\t\t<FriendCard key={friend._id} friend={friend} />\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{/* Show More Button */}\r\n\t\t\t\t{friends.length > 8 && (\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<Link href=\"/friends\" className=\"btn btn-outline\">\r\n\t\t\t\t\t\t\tShow All {friends.length} Friends\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{/* Quick Actions */}\r\n\t\t\t\t<div className=\"mt-10\">\r\n\t\t\t\t\t<h3 className=\"text-xl font-bold mb-4\">Quick Actions</h3>\r\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n\t\t\t\t\t\t<Link href=\"/lessons\" className=\"card bg-primary text-primary-content hover:shadow-lg transition-shadow\">\r\n\t\t\t\t\t\t\t<div className=\"card-body items-center text-center\">\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Continue Learning</h4>\r\n\t\t\t\t\t\t\t\t<p>Resume your lessons</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Link href=\"/friends/add\" className=\"card bg-secondary text-secondary-content hover:shadow-lg transition-shadow\">\r\n\t\t\t\t\t\t\t<div className=\"card-body items-center text-center\">\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Find Partners</h4>\r\n\t\t\t\t\t\t\t\t<p>Connect with learners</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Link href=\"/chat\" className=\"card bg-accent text-accent-content hover:shadow-lg transition-shadow\">\r\n\t\t\t\t\t\t\t<div className=\"card-body items-center text-center\">\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Start Chatting</h4>\r\n\t\t\t\t\t\t\t\t<p>Practice with friends</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Link href=\"/profile\" className=\"card bg-base-200 hover:shadow-lg transition-shadow\">\r\n\t\t\t\t\t\t\t<div className=\"card-body items-center text-center\">\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Your Profile</h4>\r\n\t\t\t\t\t\t\t\t<p>Update your info</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 941, "column": 0}, "map": {"version":3,"file":"user-plus.js","sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/node_modules/lucide-react/src/icons/user-plus.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '19', x2: '19', y1: '8', y2: '14', key: '1bvyxn' }],\n  ['line', { x1: '22', x2: '16', y1: '11', y2: '11', key: '1shjgl' }],\n];\n\n/**\n * @component @name UserPlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTkiIHgyPSIxOSIgeTE9IjgiIHkyPSIxNCIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNiIgeTE9IjExIiB5Mj0iMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserPlus = createLucideIcon('user-plus', __iconNode);\n\nexport default UserPlus;\n"],"names":[],"mappings":";;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAuB,CAAA,CAAA,CAAA;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAA6C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;IAC1E;QAAC,QAAU,CAAA;QAAA,CAAA;YAAE,EAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAK,CAAI,CAAA,CAAA,CAAA,GAAA,CAAK;YAAA,CAAG,EAAA,CAAA,CAAA,CAAA,CAAA;YAAK,GAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAS;KAAA;IACrD;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAE;YAAA,CAAA,CAAA,EAAI,CAAM,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAI,CAAM,CAAA,CAAA,CAAA,CAAA;YAAA,EAAA,CAAI,CAAA,CAAA,CAAA,CAAK,CAAA;YAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAM;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;IACjE;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAE;YAAA,CAAA,CAAA,EAAI,CAAM,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAI,CAAM,CAAA,CAAA,CAAA,CAAA;YAAA,EAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAM,CAAA;YAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAM;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;CACpE;AAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,QAAA,CAAW,CAAA,wKAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAiB,CAAjB,CAAA,AAAiB,CAAjB,AAAiB,CAAjB,AAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAa,CAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA","ignoreList":[0],"debugId":null}}]
}
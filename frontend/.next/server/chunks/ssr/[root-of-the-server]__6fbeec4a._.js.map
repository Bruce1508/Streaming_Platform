{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tranh/OneDrive%20-%20Seneca/Documents/VSCODE/project/Streaming_Platform/frontend/app/actions/auth.ts"],"sourcesContent":["'use server';\r\n\r\nimport { cookies } from 'next/headers';\r\nimport { redirect } from 'next/navigation';\r\nimport { axiosInstance } from '@/lib/axiosInstance';\r\n\r\nexport async function signUp(prevState: any, formData: FormData) {\r\n    try {\r\n        const fullName = formData.get('fullName') as string;\r\n        const email = formData.get('email') as string;\r\n        const password = formData.get('password') as string;\r\n\r\n        if (!fullName || !email || !password) {\r\n            return {\r\n                success: false,\r\n                message: \"All fields are required\"\r\n            };\r\n        }\r\n\r\n        if (password.length < 6) {\r\n            return {\r\n                success: false,\r\n                message: \"Password must be at least 6 characters long\"\r\n            };\r\n        }\r\n\r\n        // Đổi route từ /auth/signup sang /auth/sign-in theo API của bạn\r\n        const response = await axiosInstance.post('/auth/sign-in', {\r\n            fullName,\r\n            email,\r\n            password\r\n        });\r\n\r\n        // Handle successful signup\r\n        if (response.data.success) {\r\n            // You may set cookies here if needed\r\n            // redirect('/onboarding'); // Uncomment nếu muốn redirect ngay\r\n            return {\r\n                success: true,\r\n                message: 'Account created successfully'\r\n            };\r\n        }\r\n\r\n        return {\r\n            success: true,\r\n            message: 'Account created successfully'\r\n        };\r\n    } catch (error: any) {\r\n        return {\r\n            success: false,\r\n            message: error.response?.data?.message || 'Registration failed'\r\n        };\r\n    }\r\n}"],"names":[],"mappings":";;;;;;IAMsB,SAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tranh/OneDrive%20-%20Seneca/Documents/VSCODE/project/Streaming_Platform/frontend/app/sign-up/page.tsx"],"sourcesContent":["// app/sign-up/page.tsx\r\n'use client';\r\n\r\nimport { useState } from \"react\";\r\nimport { ShipWheelIcon } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { signUp } from \"@/app/actions/auth\"; // Server Action\r\nimport { useFormState } from \"react-dom\";\r\nimport Image from \"next/image\";\r\n\r\nexport default function SignUpPage() {\r\n    const [isPending, setIsPending] = useState(false);\r\n\r\n    // Sử dụng useFormState để lấy kết quả từ server action\r\n    const [state, formAction] = useFormState(signUp, {\r\n        success: false,\r\n        message: null\r\n    });\r\n\r\n    return (\r\n        <div className=\"h-screen flex items-center justify-center p-4 sm:p-6 md:p-8\" data-theme=\"dark\">\r\n            <div className=\"border border-primary/25 flex flex-col lg:flex-row w-full max-w-5xl mx-auto bg-base-100 rounded-xl shadow-lg overflow-hidden\">\r\n                {/* SIGNUP FORM - LEFT SIDE */}\r\n                <div className=\"w-full lg:w-1/2 p-4 sm:p-8 flex flex-col\">\r\n                    {/* LOGO */}\r\n                    <div className=\"mb-4 flex items-center justify-start gap-2\">\r\n                        <ShipWheelIcon className=\"size-9 text-primary\" />\r\n                        <span className=\"text-3xl font-bold font-mono bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary tracking-wider\">\r\n                            STREAMIFY\r\n                        </span>\r\n                    </div>\r\n\r\n                    {/* ERROR MESSAGE IF ANY */}\r\n                    {state.message && !state.success && (\r\n                        <div className=\"alert alert-error mb-4\">\r\n                            <span>{state.message}</span>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* SUCCESS MESSAGE */}\r\n                    {state.success && (\r\n                        <div className=\"alert alert-success mb-4\">\r\n                            <span>{state.message}</span>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"w-full\">\r\n                        <form action={formAction}>\r\n                            <div className=\"space-y-4\">\r\n                                <div>\r\n                                    <h2 className=\"text-xl font-semibold\">Create an Account</h2>\r\n                                    <p className=\"text-sm opacity-70\">\r\n                                        Join Streamify and start your language learning adventure!\r\n                                    </p>\r\n                                </div>\r\n\r\n                                <div className=\"space-y-3\">\r\n                                    {/* FULLNAME */}\r\n                                    <fieldset className=\"form-control w-full fieldset\">\r\n                                        <label className=\"label\">\r\n                                            <legend className=\"fieldset-legend text-sm font-medium text-gray-600\">Name</legend>\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            name=\"fullName\"\r\n                                            placeholder=\"John Doe\"\r\n                                            className=\"input w-full\"\r\n                                            required\r\n                                        />\r\n                                    </fieldset>\r\n\r\n                                    {/* EMAIL */}\r\n                                    <fieldset className=\"form-control w-full fieldset\">\r\n                                        <label className=\"label\">\r\n                                            <legend className=\"fieldset-legend text-sm font-medium text-gray-600\">Email</legend>\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"email\"\r\n                                            name=\"email\"\r\n                                            placeholder=\"john@gmail.com\"\r\n                                            className=\"input input-bordered w-full\"\r\n                                            required\r\n                                        />\r\n                                    </fieldset>\r\n                                    {/* PASSWORD */}\r\n                                    <fieldset className=\"form-control w-full fieldset\">\r\n                                        <label className=\"label\">\r\n                                            <legend className=\" fieldset-legend text-sm font-medium text-gray-600\">Password</legend>\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"password\"\r\n                                            name=\"password\"\r\n                                            placeholder=\"********\"\r\n                                            className=\"input input-bordered w-full\"\r\n                                            required\r\n                                        />\r\n                                        <p className=\"text-xs opacity-70 mt-1\">\r\n                                            Password must be at least 6 characters long\r\n                                        </p>\r\n                                    </fieldset>\r\n\r\n                                    <div className=\"form-control\">\r\n                                        <label className=\"label cursor-pointer justify-start gap-2\">\r\n                                            <input type=\"checkbox\" name=\"terms\" className=\"checkbox checkbox-sm\" required />\r\n                                            <span className=\"text-xs leading-tight\">\r\n                                                I agree to the{\" \"}\r\n                                                <span className=\"text-primary hover:underline\">terms of service</span> and{\" \"}\r\n                                                <span className=\"text-primary hover:underline\">privacy policy</span>\r\n                                            </span>\r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <button className=\"btn btn-primary w-full\" type=\"submit\" disabled={isPending}>\r\n                                    {isPending ? (\r\n                                        <>\r\n                                            <span className=\"loading loading-spinner loading-xs\"></span>\r\n                                            Loading...\r\n                                        </>\r\n                                    ) : (\r\n                                        \"Create Account\"\r\n                                    )}\r\n                                </button>\r\n\r\n                                <div className=\"text-center mt-4\">\r\n                                    <p className=\"text-sm\">\r\n                                        Already have an account?{\" \"}\r\n                                        <Link href=\"/login\" className=\"text-primary hover:underline\">\r\n                                            Sign in\r\n                                        </Link>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* SIGNUP FORM - RIGHT SIDE */}\r\n                <div className=\"hidden lg:flex w-full lg:w-1/2 bg-primary/10 items-center justify-center\">\r\n                    <div className=\"max-w-md p-8\">\r\n                        {/* Illustration */}\r\n                        <div className=\"relative aspect-square max-w-sm mx-auto\">\r\n                            <Image\r\n                                src=\"/i.png\"\r\n                                alt=\"Language connection illustration\"\r\n                                fill\r\n                                priority\r\n                                className=\"object-cover\"\r\n                                sizes=\"(max-width: 768px) 100vw, 33vw\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"text-center space-y-3 mt-6\">\r\n                            <h2 className=\"text-xl font-semibold\">Connect with language partners worldwide</h2>\r\n                            <p className=\"opacity-70\">\r\n                                Practice conversations, make friends, and improve your language skills together\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":"AAAA,uBAAuB;;;;;AAGvB;AACA;AACA;AACA,oQAA6C,gBAAgB;AAC7D;AACA;AAPA;;;;;;;;AASe,SAAS;IACpB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,uDAAuD;IACvD,MAAM,CAAC,OAAO,WAAW,GAAG,CAAA,GAAA,4MAAA,CAAA,eAAY,AAAD,EAAE,sJAAA,CAAA,SAAM,EAAE;QAC7C,SAAS;QACT,SAAS;IACb;IAEA,qBACI,8OAAC;QAAI,WAAU;QAA8D,cAAW;kBACpF,cAAA,8OAAC;YAAI,WAAU;;8BAEX,8OAAC;oBAAI,WAAU;;sCAEX,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,oNAAA,CAAA,gBAAa;oCAAC,WAAU;;;;;;8CACzB,8OAAC;oCAAK,WAAU;8CAAuH;;;;;;;;;;;;wBAM1I,MAAM,OAAO,IAAI,CAAC,MAAM,OAAO,kBAC5B,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;0CAAM,MAAM,OAAO;;;;;;;;;;;wBAK3B,MAAM,OAAO,kBACV,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;0CAAM,MAAM,OAAO;;;;;;;;;;;sCAI5B,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCAAK,QAAQ;0CACV,cAAA,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;;8DACG,8OAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,8OAAC;oDAAE,WAAU;8DAAqB;;;;;;;;;;;;sDAKtC,8OAAC;4CAAI,WAAU;;8DAEX,8OAAC;oDAAS,WAAU;;sEAChB,8OAAC;4DAAM,WAAU;sEACb,cAAA,8OAAC;gEAAO,WAAU;0EAAoD;;;;;;;;;;;sEAE1E,8OAAC;4DACG,MAAK;4DACL,MAAK;4DACL,aAAY;4DACZ,WAAU;4DACV,QAAQ;;;;;;;;;;;;8DAKhB,8OAAC;oDAAS,WAAU;;sEAChB,8OAAC;4DAAM,WAAU;sEACb,cAAA,8OAAC;gEAAO,WAAU;0EAAoD;;;;;;;;;;;sEAE1E,8OAAC;4DACG,MAAK;4DACL,MAAK;4DACL,aAAY;4DACZ,WAAU;4DACV,QAAQ;;;;;;;;;;;;8DAIhB,8OAAC;oDAAS,WAAU;;sEAChB,8OAAC;4DAAM,WAAU;sEACb,cAAA,8OAAC;gEAAO,WAAU;0EAAqD;;;;;;;;;;;sEAE3E,8OAAC;4DACG,MAAK;4DACL,MAAK;4DACL,aAAY;4DACZ,WAAU;4DACV,QAAQ;;;;;;sEAEZ,8OAAC;4DAAE,WAAU;sEAA0B;;;;;;;;;;;;8DAK3C,8OAAC;oDAAI,WAAU;8DACX,cAAA,8OAAC;wDAAM,WAAU;;0EACb,8OAAC;gEAAM,MAAK;gEAAW,MAAK;gEAAQ,WAAU;gEAAuB,QAAQ;;;;;;0EAC7E,8OAAC;gEAAK,WAAU;;oEAAwB;oEACrB;kFACf,8OAAC;wEAAK,WAAU;kFAA+B;;;;;;oEAAuB;oEAAK;kFAC3E,8OAAC;wEAAK,WAAU;kFAA+B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sDAM/D,8OAAC;4CAAO,WAAU;4CAAyB,MAAK;4CAAS,UAAU;sDAC9D,0BACG;;kEACI,8OAAC;wDAAK,WAAU;;;;;;oDAA4C;;+DAIhE;;;;;;sDAIR,8OAAC;4CAAI,WAAU;sDACX,cAAA,8OAAC;gDAAE,WAAU;;oDAAU;oDACM;kEACzB,8OAAC,4JAAA,CAAA,UAAI;wDAAC,MAAK;wDAAS,WAAU;kEAA+B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAWrF,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBAAI,WAAU;;0CAEX,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,6HAAA,CAAA,UAAK;oCACF,KAAI;oCACJ,KAAI;oCACJ,IAAI;oCACJ,QAAQ;oCACR,WAAU;oCACV,OAAM;;;;;;;;;;;0CAId,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAG,WAAU;kDAAwB;;;;;;kDACtC,8OAAC;wCAAE,WAAU;kDAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAStD","debugId":null}}]
}
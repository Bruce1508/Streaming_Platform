{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tranh/OneDrive%20-%20Seneca/Documents/VSCODE/project/Streaming_Platform/frontend/lib/axiosInstance.tsx"],"sourcesContent":["// lib/axiosInstance.ts\r\nimport axios from \"axios\";\r\n\r\nconst BASE_URL = \"http://localhost:5001/api\";\r\n\r\nexport const axiosInstance = axios.create({\r\n  baseURL: BASE_URL,  // Đây là URL của backend của bạn\r\n  withCredentials: true,  // Cho phép gửi cookies (cần thiết cho authentication)\r\n});"],"names":[],"mappings":"AAAA,uBAAuB;;;;AACvB;;AAEA,MAAM,WAAW;AAEV,MAAM,gBAAgB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACxC,SAAS;IACT,iBAAiB;AACnB","debugId":null}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tranh/OneDrive%20-%20Seneca/Documents/VSCODE/project/Streaming_Platform/frontend/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { axiosInstance } from \"@/lib/axiosInstance\";\r\nimport { useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function Home() {\r\n\tconst router = useRouter();\r\n\r\n\tconst { data: authData, isLoading, error } = useQuery({\r\n\t\tqueryKey: [\"authUser\"],\r\n\t\tqueryFn: async () => {\r\n\t\t\tconst res = await axiosInstance.get(\"/auth/me\");\r\n\t\t\treturn res.data;\r\n\t\t},\r\n\t\tretry: false,\r\n\t});\r\n\r\n\tconst authUser = authData?.user;\r\n\tconst isAuthenticated = Boolean(authUser);\r\n\tconst isOnboarded = authUser?.isOnboarded;\r\n\r\n\t// Thêm logs để debug\r\n\tconsole.log('Auth data:', authData);\r\n\tconsole.log('isLoading:', isLoading);\r\n\tconsole.log('Error:', error);\r\n\tconsole.log('isAuthenticated:', Boolean(authData?.user));\r\n\tconsole.log('isOnboarded:', authData?.user?.isOnboarded);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!isLoading) {\r\n\t\t\tif (!isAuthenticated) {\r\n\t\t\t\trouter.push(\"/sign-up\");\r\n\t\t\t} else if (!isOnboarded) {\r\n\t\t\t\trouter.push(\"/onboarding\");\r\n\t\t\t}\r\n\t\t}\r\n\t}, [isLoading, isAuthenticated, isOnboarded, router]);\r\n\r\n\tif (isLoading) return <h1>Loading...</h1>\r\n\tif (!isAuthenticated || !isOnboarded) return null;\r\n\r\n\treturn (\r\n\t\t<main>\r\n\t\t\t<h1>hello</h1>\r\n\t\t</main>\r\n\t)\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACvB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,EAAE,MAAM,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD,EAAE;QACrD,UAAU;YAAC;SAAW;QACtB,SAAS;YACR,MAAM,MAAM,MAAM,qHAAA,CAAA,gBAAa,CAAC,GAAG,CAAC;YACpC,OAAO,IAAI,IAAI;QAChB;QACA,OAAO;IACR;IAEA,MAAM,WAAW,UAAU;IAC3B,MAAM,kBAAkB,QAAQ;IAChC,MAAM,cAAc,UAAU;IAE9B,qBAAqB;IACrB,QAAQ,GAAG,CAAC,cAAc;IAC1B,QAAQ,GAAG,CAAC,cAAc;IAC1B,QAAQ,GAAG,CAAC,UAAU;IACtB,QAAQ,GAAG,CAAC,oBAAoB,QAAQ,UAAU;IAClD,QAAQ,GAAG,CAAC,gBAAgB,UAAU,MAAM;IAE5C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACT,IAAI,CAAC,WAAW;YACf,IAAI,CAAC,iBAAiB;gBACrB,OAAO,IAAI,CAAC;YACb,OAAO,IAAI,CAAC,aAAa;gBACxB,OAAO,IAAI,CAAC;YACb;QACD;IACD,GAAG;QAAC;QAAW;QAAiB;QAAa;KAAO;IAEpD,IAAI,WAAW,qBAAO,8OAAC;kBAAG;;;;;;IAC1B,IAAI,CAAC,mBAAmB,CAAC,aAAa,OAAO;IAE7C,qBACC,8OAAC;kBACA,cAAA,8OAAC;sBAAG;;;;;;;;;;;AAGP","debugId":null}}]
}
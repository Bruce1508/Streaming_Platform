{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Documents/code/Streaming_Platform/frontend/lib/api.ts"],"sourcesContent":["import { asyncWrapProviders } from \"async_hooks\";\r\n\r\nconst BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5001/api';\r\n\r\ninterface ApiResponse<T = any> {\r\n    success: boolean;\r\n    message?: string;\r\n    user?: T;\r\n    token?: string;\r\n}\r\n\r\ninterface SignupData {\r\n    fullName: string;\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\ninterface LoginData {\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\ninterface OnboardingData {\r\n    fullName: string;\r\n    bio: string;\r\n    nativeLanguage: string;\r\n    learningLanguage: string;\r\n    location: string;\r\n    profilePic: string;\r\n}\r\n\r\nconst makeAuthenticationRequest = async (\r\n    endpoint: string, \r\n    options: RequestInit = {}\r\n): Promise<Response> => {\r\n    const token = localStorage.getItem('auth_token');\r\n\r\n    const headers = {\r\n        'Content-Type': 'application/json',\r\n        ...(token && { Authorization: `Bearer ${token}` }),\r\n        ...options.headers,\r\n    };\r\n\r\n    return fetch(`${BASE_URL}${endpoint}`, {\r\n        ...options,\r\n        headers,\r\n    });\r\n}\r\n\r\nexport const signUp = async (signUpData: SignupData): Promise<ApiResponse> => {\r\n    try {\r\n        const response = await fetch(`${BASE_URL}/auth/sign-up`, {\r\n            method: 'POST',\r\n            body: JSON.stringify(signUpData),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            }\r\n        });\r\n\r\n        const data = await response.json();\r\n        return data;\r\n    } catch (error: any) {\r\n        console.error('Signup error:', error);\r\n        return {\r\n            success: false,\r\n            message: 'Network error occurred with signUp function in api.ts'\r\n        };\r\n    }\r\n}\r\n\r\nexport const signIn = async (loginData: LoginData): Promise<ApiResponse> => {\r\n    try {\r\n        const response = await fetch(`${BASE_URL}/auth/sign-in`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(loginData),\r\n        });\r\n\r\n        const data = await response.json();\r\n        return data;\r\n    } catch (error: any) {\r\n        console.error('Login error in api.ts:', error);\r\n        return {\r\n            success: false,\r\n            message: 'Something wrong with signIn function in api.ts'\r\n        };\r\n    }\r\n};\r\n\r\nexport const getAuthUser = async (): Promise<ApiResponse | null> => {\r\n    try {\r\n        const response = await makeAuthenticationRequest(\"/auth/me\");\r\n        if (!response.ok) {\r\n            return null;\r\n        }\r\n\r\n        const data = await response.json();\r\n        return data;\r\n\r\n    } catch (error) {\r\n        console.error('Get auth user error in api.ts:', error);\r\n        return null;\r\n    }\r\n}\r\n\r\nexport const completeOnBoarding = async (userData: OnboardingData): Promise<ApiResponse> => {\r\n    try {\r\n        const response = await makeAuthenticationRequest('/auth/onBoarding', {\r\n            method: 'POST',\r\n            body: JSON.stringify(userData),\r\n        });\r\n\r\n        const data = await response.json();\r\n        return data;\r\n    } catch (error) {\r\n        console.error(\"Onboarding error in api.ts: \", error);\r\n        return {\r\n            success: false,\r\n            message: \"Internal error in Onboarding in api.ts\"\r\n        }\r\n    }\r\n}\r\n\r\nexport async function getUserFriends(): Promise<any[]> {\r\n    try {\r\n        const response = await makeAuthenticationRequest('/user/friends');\r\n        if (!response.ok) {\r\n            throw new Error('Failed to fetch friends');\r\n        }\r\n\r\n        const data = await response.json();\r\n        return data;\r\n    } catch (error: any) {\r\n        console.error('Get friends error:', error);\r\n        throw error;\r\n    };\r\n}\r\n\r\nexport async function getRecommendedUsers(): Promise<any[]> {\r\n    try {\r\n        const response = await makeAuthenticationRequest('/user/');\r\n        \r\n        if (!response.ok) {\r\n            throw new Error('Failed to fetch recommended users');\r\n        }\r\n        \r\n        const data = await response.json();\r\n        return data;\r\n    } catch (error) {\r\n        console.error('Get recommended users error:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function getOutgoingFriendReqs(): Promise<any[]> {\r\n    try {\r\n        const response = await makeAuthenticationRequest('/user/outgoing-friend-requests');\r\n        \r\n        if (!response.ok) {\r\n            throw new Error('Failed to fetch outgoing requests');\r\n        }\r\n        \r\n        const data = await response.json();\r\n        return data;\r\n    } catch (error) {\r\n        console.error('Get outgoing requests error:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n\r\nexport async function sendFriendRequest(userId: string): Promise<any> {\r\n    try {\r\n        const response = await makeAuthenticationRequest(`/user/friend-request/${userId}`, {\r\n            method: 'POST',\r\n        });\r\n        \r\n        if (!response.ok) {\r\n            throw new Error('Failed to send friend request');\r\n        }\r\n        \r\n        const data = await response.json();\r\n        return data;\r\n    } catch (error) {\r\n        console.error('Send friend request error:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function getFriendRequests(): Promise<any> {\r\n    try {\r\n        const response = await makeAuthenticationRequest('/user/friend-requests');\r\n        \r\n        if (!response.ok) {\r\n            throw new Error('Failed to fetch friend requests');\r\n        }\r\n        \r\n        const data = await response.json();\r\n        return data;\r\n    } catch (error) {\r\n        console.error('Get friend requests error:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function acceptFriendRequest(requestId: string): Promise<any> {\r\n    try {\r\n        const response = await makeAuthenticationRequest(`/users/friend-request/${requestId}/accept`, {\r\n            method: 'PUT',\r\n        });\r\n        \r\n        if (!response.ok) {\r\n            throw new Error('Failed to accept friend request');\r\n        }\r\n        \r\n        const data = await response.json();\r\n        return data;\r\n    } catch (error) {\r\n        console.error('Accept friend request error:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n// Chat APIs\r\nexport async function getStreamToken(): Promise<any> {\r\n    try {\r\n        const response = await makeAuthenticationRequest('/chat/token');\r\n        \r\n        if (!response.ok) {\r\n            throw new Error('Failed to get stream token');\r\n        }\r\n        \r\n        const data = await response.json();\r\n        return data;\r\n    } catch (error) {\r\n        console.error('Get stream token error:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Documents/code/Streaming_Platform/frontend/hooks/useFriends.ts"],"sourcesContent":["import { useState } from 'react';\r\nimport { getUserFriends, getRecommendedUsers, getOutgoingFriendReqs, sendFriendRequest } from '@/lib/api';\r\nimport toast from 'react-hot-toast';\r\n\r\ninterface User {\r\n    _id: string;\r\n    fullName: string;\r\n    profilePic: string;\r\n    bio: string;\r\n    nativeLanguage: string;\r\n    learningLanguage: string;\r\n    location: string;\r\n}\r\n\r\ninterface FriendRequest {\r\n    _id: string;\r\n    recipient: User;\r\n    sender: User;\r\n    status: string;\r\n}\r\n\r\n// ðŸŽ¯ Hook 1: Quáº£n lÃ½ danh sÃ¡ch báº¡n bÃ¨\r\nexport const useFriends = () => {\r\n    const [friends, setFriends] = useState<User[]>([]); // DÃ¹ng User thay vÃ¬ Friend\r\n    const [loadingFriends, setLoadingFriends] = useState(true);\r\n\r\n    const fetchFriends = async () => {\r\n        try {\r\n            setLoadingFriends(true);\r\n            const response = await getUserFriends();\r\n            setFriends(response || []);\r\n        } catch (error) {\r\n            console.error('Error fetching friends:', error);\r\n            toast.error('Failed to load friends');\r\n        } finally {\r\n            setLoadingFriends(false);\r\n        }\r\n    };\r\n\r\n    const refreshFriends = () => fetchFriends();\r\n\r\n    return {\r\n        friends,\r\n        loadingFriends,\r\n        fetchFriends,\r\n        refreshFriends\r\n    };\r\n};\r\n\r\n// ðŸŽ¯ Hook 2: Quáº£n lÃ½ danh sÃ¡ch ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c Ä‘á» xuáº¥t\r\nexport const useRecommendedUsers = () => {\r\n    const [recommendedUsers, setRecommendedUsers] = useState<User[]>([]);\r\n    const [loadingUsers, setLoadingUsers] = useState(true);\r\n\r\n    const fetchRecommendedUsers = async () => {\r\n        try {\r\n            setLoadingUsers(true);\r\n            const response = await getRecommendedUsers();\r\n            setRecommendedUsers(response || []);\r\n        } catch (error) {\r\n            console.error('Error fetching recommended users:', error);\r\n            toast.error('Failed to load recommended users');\r\n        } finally {\r\n            setLoadingUsers(false);\r\n        }\r\n    };\r\n\r\n    const refreshRecommendedUsers = () => fetchRecommendedUsers();\r\n\r\n    return {\r\n        recommendedUsers,\r\n        loadingUsers,\r\n        fetchRecommendedUsers,\r\n        refreshRecommendedUsers\r\n    };\r\n};\r\n\r\n// ðŸŽ¯ Hook 3: Quáº£n lÃ½ lá»i má»i káº¿t báº¡n Ä‘Ã£ gá»­i\r\nexport const useOutgoingRequests = () => {\r\n    const [outgoingFriendReqs, setOutgoingFriendReqs] = useState<FriendRequest[]>([]);\r\n    const [outgoingRequestsIds, setOutgoingRequestsIds] = useState(new Set<string>());\r\n    const [loadingOutgoing, setLoadingOutgoing] = useState(true);\r\n\r\n    const fetchOutgoingRequests = async () => {\r\n        try {\r\n            setLoadingOutgoing(true);\r\n            const response = await getOutgoingFriendReqs();\r\n            setOutgoingFriendReqs(response || []);\r\n\r\n            // Táº¡o Set cÃ¡c ID Ä‘á»ƒ check nhanh trong UI\r\n            const outgoingIds = new Set<string>();\r\n            if (response && response.length > 0) {\r\n                response.forEach((req: FriendRequest) => {\r\n                    outgoingIds.add(req.recipient._id);\r\n                });\r\n            }\r\n            setOutgoingRequestsIds(outgoingIds);\r\n        } catch (error) {\r\n            console.error('Error fetching outgoing requests:', error);\r\n        } finally {\r\n            setLoadingOutgoing(false);\r\n        }\r\n    };\r\n\r\n    const refreshOutgoingRequests = () => fetchOutgoingRequests();\r\n\r\n    return {\r\n        outgoingFriendReqs,\r\n        outgoingRequestsIds,\r\n        loadingOutgoing,\r\n        fetchOutgoingRequests,\r\n        refreshOutgoingRequests\r\n    };\r\n};\r\n\r\n// ðŸŽ¯ Hook 4: Xá»­ lÃ½ cÃ¡c hÃ nh Ä‘á»™ng vá»›i báº¡n bÃ¨\r\nexport const useFriendActions = () => {\r\n    const [sendingRequest, setSendingRequest] = useState<string | null>(null);\r\n\r\n    const handleSendFriendRequest = async (userId: string, onSuccess?: () => void) => {\r\n        try {\r\n            setSendingRequest(userId);\r\n            await sendFriendRequest(userId);\r\n            toast.success('Friend request sent!');\r\n\r\n            // Callback Ä‘á»ƒ refresh data\r\n            if (onSuccess) onSuccess();\r\n        } catch (error) {\r\n            console.error('Error sending friend request:', error);\r\n            toast.error('Failed to send friend request');\r\n        } finally {\r\n            setSendingRequest(null);\r\n        }\r\n    };\r\n\r\n    return {\r\n        sendingRequest,\r\n        handleSendFriendRequest\r\n    };\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Documents/code/Streaming_Platform/frontend/lib/utils.ts"],"sourcesContent":["interface CapitalizeFunction {\r\n    (str: string): string;\r\n}\r\n\r\nexport const capitialize: CapitalizeFunction = (str) => str.charAt(0).toUpperCase() + str.slice(1);"],"names":[],"mappings":";;;AAIO,MAAM,cAAkC,CAAC,MAAQ,IAAI,MAAM,CAAC,GAAG,WAAW,KAAK,IAAI,KAAK,CAAC","debugId":null}},
    {"offset": {"line": 350, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Documents/code/Streaming_Platform/frontend/components/ui/NoFriendFound.tsx"],"sourcesContent":["import Link from \"next/link\";\r\nimport { UserPlusIcon, UsersIcon } from \"lucide-react\";\r\n\r\nconst NoFriendsFound = () => {\r\n    return (\r\n        <div className=\"card bg-base-200 p-8 text-center\">\r\n            <div className=\"mb-6\">\r\n                <UsersIcon className=\"size-16 mx-auto text-base-content opacity-30 mb-4\" />\r\n                <h3 className=\"font-semibold text-xl mb-2\">No Friends Yet</h3>\r\n                <p className=\"text-base-content opacity-70 max-w-md mx-auto\">\r\n                    Start your language learning journey by connecting with other learners!\r\n                    Send friend requests to people who share your language interests.\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col sm:flex-row gap-3 justify-center items-center\">\r\n                <Link href=\"/notifications\" className=\"btn btn-outline\">\r\n                    <UsersIcon className=\"size-4 mr-2\" />\r\n                    Check Friend Requests\r\n                </Link>\r\n\r\n                <span className=\"text-sm opacity-70\">or</span>\r\n\r\n                <div className=\"flex items-center text-sm opacity-70\">\r\n                    <UserPlusIcon className=\"size-4 mr-1\" />\r\n                    Browse recommended users below\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NoFriendsFound;"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACnB,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,2MAAA,CAAA,YAAS;wBAAC,WAAU;;;;;;kCACrB,6LAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,6LAAC;wBAAE,WAAU;kCAAgD;;;;;;;;;;;;0BAMjE,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,+JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAiB,WAAU;;0CAClC,6LAAC,2MAAA,CAAA,YAAS;gCAAC,WAAU;;;;;;4BAAgB;;;;;;;kCAIzC,6LAAC;wBAAK,WAAU;kCAAqB;;;;;;kCAErC,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,qNAAA,CAAA,eAAY;gCAAC,WAAU;;;;;;4BAAgB;;;;;;;;;;;;;;;;;;;AAM5D;KA3BM;uCA6BS","debugId":null}},
    {"offset": {"line": 468, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Documents/code/Streaming_Platform/frontend/constants/index.ts"],"sourcesContent":["export const THEMES = [\r\n    {\r\n        name: \"light\",\r\n        label: \"Light\",\r\n        colors: [\"#ffffff\", \"#5a67d8\", \"#8b5cf6\", \"#1a202c\"],\r\n    },\r\n    {\r\n        name: \"dark\",\r\n        label: \"Dark\",\r\n        colors: [\"#1f2937\", \"#8b5cf6\", \"#ec4899\", \"#1a202c\"],\r\n    },\r\n    {\r\n        name: \"cupcake\",\r\n        label: \"Cupcake\",\r\n        colors: [\"#f5f5f4\", \"#65c3c8\", \"#ef9fbc\", \"#291334\"],\r\n    },\r\n    {\r\n        name: \"forest\",\r\n        label: \"Forest\",\r\n        colors: [\"#1f1d1d\", \"#3ebc96\", \"#70c217\", \"#e2e8f0\"],\r\n    },\r\n    {\r\n        name: \"bumblebee\",\r\n        label: \"Bumblebee\",\r\n        colors: [\"#ffffff\", \"#f8e36f\", \"#f0d50c\", \"#1c1917\"],\r\n    },\r\n    {\r\n        name: \"emerald\",\r\n        label: \"Emerald\",\r\n        colors: [\"#ffffff\", \"#66cc8a\", \"#3b82f6\", \"#1e3a8a\"],\r\n    },\r\n    {\r\n        name: \"corporate\",\r\n        label: \"Corporate\",\r\n        colors: [\"#ffffff\", \"#4b6bfb\", \"#7b92b2\", \"#1d232a\"],\r\n    },\r\n    {\r\n        name: \"synthwave\",\r\n        label: \"Synthwave\",\r\n        colors: [\"#2d1b69\", \"#e779c1\", \"#58c7f3\", \"#f8f8f2\"],\r\n    },\r\n    {\r\n        name: \"retro\",\r\n        label: \"Retro\",\r\n        colors: [\"#e4d8b4\", \"#ea6962\", \"#6aaa64\", \"#282425\"],\r\n    },\r\n    {\r\n        name: \"cyberpunk\",\r\n        label: \"Cyberpunk\",\r\n        colors: [\"#ffee00\", \"#ff7598\", \"#75d1f0\", \"#1a103d\"],\r\n    },\r\n    {\r\n        name: \"valentine\",\r\n        label: \"Valentine\",\r\n        colors: [\"#f0d6e8\", \"#e96d7b\", \"#a991f7\", \"#37243c\"],\r\n    },\r\n    {\r\n        name: \"halloween\",\r\n        label: \"Halloween\",\r\n        colors: [\"#0d0d0d\", \"#ff7800\", \"#006400\", \"#ffffff\"],\r\n    },\r\n    {\r\n        name: \"garden\",\r\n        label: \"Garden\",\r\n        colors: [\"#e9e7e7\", \"#ec4899\", \"#16a34a\", \"#374151\"],\r\n    },\r\n\r\n    {\r\n        name: \"aqua\",\r\n        label: \"Aqua\",\r\n        colors: [\"#193549\", \"#4cd4e3\", \"#9059ff\", \"#f8d766\"],\r\n    },\r\n    {\r\n        name: \"lofi\",\r\n        label: \"Lofi\",\r\n        colors: [\"#0f0f0f\", \"#1a1919\", \"#232323\", \"#2c2c2c\"],\r\n    },\r\n    {\r\n        name: \"pastel\",\r\n        label: \"Pastel\",\r\n        colors: [\"#f7f3f5\", \"#d1c1d7\", \"#a1e3d8\", \"#4a98f1\"],\r\n    },\r\n    {\r\n        name: \"fantasy\",\r\n        label: \"Fantasy\",\r\n        colors: [\"#ffe7d6\", \"#a21caf\", \"#3b82f6\", \"#f59e0b\"],\r\n    },\r\n    {\r\n        name: \"wireframe\",\r\n        label: \"Wireframe\",\r\n        colors: [\"#e6e6e6\", \"#b3b3b3\", \"#b3b3b3\", \"#888888\"],\r\n    },\r\n    {\r\n        name: \"black\",\r\n        label: \"Black\",\r\n        colors: [\"#000000\", \"#191919\", \"#313131\", \"#4a4a4a\"],\r\n    },\r\n    {\r\n        name: \"luxury\",\r\n        label: \"Luxury\",\r\n        colors: [\"#171618\", \"#1e293b\", \"#94589c\", \"#d4a85a\"],\r\n    },\r\n    {\r\n        name: \"dracula\",\r\n        label: \"Dracula\",\r\n        colors: [\"#282a36\", \"#ff79c6\", \"#bd93f9\", \"#f8f8f2\"],\r\n    },\r\n    {\r\n        name: \"cmyk\",\r\n        label: \"CMYK\",\r\n        colors: [\"#f0f0f0\", \"#0891b2\", \"#ec4899\", \"#facc15\"],\r\n    },\r\n    {\r\n        name: \"autumn\",\r\n        label: \"Autumn\",\r\n        colors: [\"#f2f2f2\", \"#8c1f11\", \"#f28c18\", \"#6f4930\"],\r\n    },\r\n    {\r\n        name: \"business\",\r\n        label: \"Business\",\r\n        colors: [\"#f5f5f5\", \"#1e40af\", \"#3b82f6\", \"#f97316\"],\r\n    },\r\n    {\r\n        name: \"acid\",\r\n        label: \"Acid\",\r\n        colors: [\"#110e0e\", \"#ff00f2\", \"#ff7a00\", \"#99ff01\"],\r\n    },\r\n    {\r\n        name: \"lemonade\",\r\n        label: \"Lemonade\",\r\n        colors: [\"#ffffff\", \"#67e8f9\", \"#f5d742\", \"#2c3333\"],\r\n    },\r\n    {\r\n        name: \"night\",\r\n        label: \"Night\",\r\n        colors: [\"#0f172a\", \"#38bdf8\", \"#818cf8\", \"#e2e8f0\"],\r\n    },\r\n    {\r\n        name: \"coffee\",\r\n        label: \"Coffee\",\r\n        colors: [\"#20161f\", \"#dd9866\", \"#497174\", \"#eeeeee\"],\r\n    },\r\n    {\r\n        name: \"winter\",\r\n        label: \"Winter\",\r\n        colors: [\"#ffffff\", \"#0284c7\", \"#d946ef\", \"#0f172a\"],\r\n    },\r\n    {\r\n        name: \"dim\",\r\n        label: \"Dim\",\r\n        colors: [\"#1c1c27\", \"#10b981\", \"#ff5a5f\", \"#0f172a\"],\r\n    },\r\n    {\r\n        name: \"nord\",\r\n        label: \"Nord\",\r\n        colors: [\"#eceff4\", \"#5e81ac\", \"#81a1c1\", \"#3b4252\"],\r\n    },\r\n    {\r\n        name: \"sunset\",\r\n        label: \"Sunset\",\r\n        colors: [\"#1e293b\", \"#f5734c\", \"#ec4899\", \"#ffffff\"],\r\n    },\r\n];\r\n\r\nexport const LANGUAGES = [\r\n    \"English\",\r\n    \"Spanish\",\r\n    \"French\",\r\n    \"German\",\r\n    \"Mandarin\",\r\n    \"Japanese\",\r\n    \"Korean\",\r\n    \"Hindi\",\r\n    \"Russian\",\r\n    \"Portuguese\",\r\n    \"Arabic\",\r\n    \"Italian\",\r\n    \"Turkish\",\r\n    \"Dutch\",\r\n];\r\n\r\nexport const LANGUAGE_TO_FLAG = {\r\n    english: \"gb\",\r\n    spanish: \"es\",\r\n    french: \"fr\",\r\n    german: \"de\",\r\n    mandarin: \"cn\",\r\n    japanese: \"jp\",\r\n    korean: \"kr\",\r\n    hindi: \"in\",\r\n    russian: \"ru\",\r\n    portuguese: \"pt\",\r\n    arabic: \"sa\",\r\n    italian: \"it\",\r\n    turkish: \"tr\",\r\n    dutch: \"nl\",\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 836, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Documents/code/Streaming_Platform/frontend/components/ui/FriendCard.tsx"],"sourcesContent":["import Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { LANGUAGE_TO_FLAG } from \"@/constants\";\r\n\r\ninterface Friend {\r\n    _id: string;\r\n    fullName: string;\r\n    profilePic: string;\r\n    nativeLanguage: string;\r\n    learningLanguage: string;\r\n    bio?: string;\r\n    location?: string;\r\n}\r\n\r\ninterface FriendCardProps {\r\n    friend: Friend;\r\n}\r\n\r\nconst FriendCard = ({ friend }: FriendCardProps) => {\r\n    return (\r\n        <div className=\"card bg-base-200 hover:shadow-md transition-shadow\">\r\n            <div className=\"card-body p-4\">\r\n                {/* USER INFO */}\r\n                <div className=\"flex items-center gap-3 mb-3\">\r\n                    <div className=\"avatar size-12 rounded-full overflow-hidden relative\">\r\n                        <Image\r\n                            src={friend.profilePic}\r\n                            alt={friend.fullName}\r\n                            fill\r\n                            className=\"object-cover\"\r\n                            sizes=\"48px\"\r\n                            priority={false}\r\n                        />\r\n                    </div>\r\n                    <h3 className=\"font-semibold truncate\">{friend.fullName}</h3>\r\n                </div>\r\n\r\n                {/* LANGUAGES */}\r\n                <div className=\"flex flex-wrap gap-1.5 mb-3\">\r\n                    <span className=\"badge badge-secondary text-xs\">\r\n                        {getLanguageFlag(friend.nativeLanguage)}\r\n                        Native: {friend.nativeLanguage}\r\n                    </span>\r\n                    <span className=\"badge badge-outline text-xs\">\r\n                        {getLanguageFlag(friend.learningLanguage)}\r\n                        Learning: {friend.learningLanguage}\r\n                    </span>\r\n                </div>\r\n\r\n                {/* MESSAGE BUTTON */}\r\n                <Link href={`/chat/${friend._id}`} className=\"btn btn-outline w-full\">\r\n                    Message\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FriendCard;\r\n\r\n// Language flag helper function with Next.js Image\r\nexport function getLanguageFlag(language: string) {\r\n    if (!language) return null;\r\n\r\n    const langLower = language.toLowerCase();\r\n    const countryCode = LANGUAGE_TO_FLAG[langLower as keyof typeof LANGUAGE_TO_FLAG];\r\n\r\n    if (countryCode) {\r\n        return (\r\n            <div className=\"inline-block w-6 h-[18px] mr-1 relative\">\r\n                <Image\r\n                    src={`https://flagcdn.com/24x18/${countryCode}.png`}\r\n                    alt={`${langLower} flag`}\r\n                    width={24}\r\n                    height={18}\r\n                    className=\"object-cover\"\r\n                    unoptimized // For external images\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return null;\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAgBA,MAAM,aAAa,CAAC,EAAE,MAAM,EAAmB;IAC3C,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAI,WAAU;;8BAEX,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC,gIAAA,CAAA,UAAK;gCACF,KAAK,OAAO,UAAU;gCACtB,KAAK,OAAO,QAAQ;gCACpB,IAAI;gCACJ,WAAU;gCACV,OAAM;gCACN,UAAU;;;;;;;;;;;sCAGlB,6LAAC;4BAAG,WAAU;sCAA0B,OAAO,QAAQ;;;;;;;;;;;;8BAI3D,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAK,WAAU;;gCACX,gBAAgB,OAAO,cAAc;gCAAE;gCAC/B,OAAO,cAAc;;;;;;;sCAElC,6LAAC;4BAAK,WAAU;;gCACX,gBAAgB,OAAO,gBAAgB;gCAAE;gCAC/B,OAAO,gBAAgB;;;;;;;;;;;;;8BAK1C,6LAAC,+JAAA,CAAA,UAAI;oBAAC,MAAM,CAAC,MAAM,EAAE,OAAO,GAAG,EAAE;oBAAE,WAAU;8BAAyB;;;;;;;;;;;;;;;;;AAMtF;KAtCM;uCAwCS;AAGR,SAAS,gBAAgB,QAAgB;IAC5C,IAAI,CAAC,UAAU,OAAO;IAEtB,MAAM,YAAY,SAAS,WAAW;IACtC,MAAM,cAAc,qHAAA,CAAA,mBAAgB,CAAC,UAA2C;IAEhF,IAAI,aAAa;QACb,qBACI,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC,gIAAA,CAAA,UAAK;gBACF,KAAK,CAAC,0BAA0B,EAAE,YAAY,IAAI,CAAC;gBACnD,KAAK,GAAG,UAAU,KAAK,CAAC;gBACxB,OAAO;gBACP,QAAQ;gBACR,WAAU;gBACV,WAAW;;;;;;;;;;;IAI3B;IAEA,OAAO;AACX","debugId":null}},
    {"offset": {"line": 984, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Documents/code/Streaming_Platform/frontend/app/%28protected%29/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { CheckCircleIcon, MapPinIcon, UserPlusIcon, UsersIcon } from \"lucide-react\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { useFriends, useRecommendedUsers, useOutgoingRequests, useFriendActions } from \"@/hooks/useFriends\";\r\nimport { capitialize } from \"@/lib/utils\";\r\nimport NoFriendsFound from \"@/components/ui/NoFriendFound\";\r\nimport FriendCard from \"@/components/ui/FriendCard\";\r\nimport { getLanguageFlag } from \"@/components/ui/FriendCard\";\r\n\r\nexport default function HomePage() {\r\n\tconst { user } = useAuth();\r\n\r\n\t// Custom hooks for data management\r\n\tconst { friends, loadingFriends, fetchFriends } = useFriends();\r\n\tconst { recommendedUsers, loadingUsers, fetchRecommendedUsers } = useRecommendedUsers();\r\n\tconst { outgoingRequestsIds, fetchOutgoingRequests } = useOutgoingRequests();\r\n\tconst { sendingRequest, handleSendFriendRequest } = useFriendActions();\r\n\r\n\t// Initial data fetch when user is available\r\n\tuseEffect(() => {\r\n\t\tif (user) {\r\n\t\t\tfetchFriends();\r\n\t\t\tfetchRecommendedUsers();\r\n\t\t\tfetchOutgoingRequests();\r\n\t\t}\r\n\t}, [user, fetchFriends, fetchRecommendedUsers, fetchOutgoingRequests]);\r\n\r\n\t// Callback after friend request is sent\r\n\tconst onFriendRequestSent = () => {\r\n\t\tfetchOutgoingRequests(); // Refresh outgoing requests to update UI\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"p-4 sm:p-6 lg:p-8\">\r\n\t\t\t<div className=\"container mx-auto space-y-10\">\r\n\r\n\t\t\t\t{/* FRIENDS SECTION */}\r\n\t\t\t\t<section>\r\n\t\t\t\t\t{/* Header */}\r\n\t\t\t\t\t<div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6\">\r\n\t\t\t\t\t\t<h2 className=\"text-2xl sm:text-3xl font-bold tracking-tight\">Your Friends</h2>\r\n\t\t\t\t\t\t<Link href=\"/notifications\" className=\"btn btn-outline btn-sm\">\r\n\t\t\t\t\t\t\t<UsersIcon className=\"mr-2 size-4\" />\r\n\t\t\t\t\t\t\tFriend Requests\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Friends List */}\r\n\t\t\t\t\t{loadingFriends ? (\r\n\t\t\t\t\t\t<div className=\"flex justify-center py-12\">\r\n\t\t\t\t\t\t\t<span className=\"loading loading-spinner loading-lg\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : friends.length === 0 ? (\r\n\t\t\t\t\t\t<NoFriendsFound />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\r\n\t\t\t\t\t\t\t{friends.map((friend) => (\r\n\t\t\t\t\t\t\t\t<FriendCard key={friend._id} friend={friend} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</section>\r\n\r\n\t\t\t\t{/* RECOMMENDED USERS SECTION */}\r\n\t\t\t\t<section>\r\n\t\t\t\t\t{/* Header */}\r\n\t\t\t\t\t<div className=\"mb-6 sm:mb-8\">\r\n\t\t\t\t\t\t<div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h2 className=\"text-2xl sm:text-3xl font-bold tracking-tight\">Meet New Learners</h2>\r\n\t\t\t\t\t\t\t\t<p className=\"text-base-content opacity-70 mt-1\">\r\n\t\t\t\t\t\t\t\t\tDiscover perfect language exchange partners based on your profile\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Recommended Users List */}\r\n\t\t\t\t\t{loadingUsers ? (\r\n\t\t\t\t\t\t<div className=\"flex justify-center py-12\">\r\n\t\t\t\t\t\t\t<span className=\"loading loading-spinner loading-lg\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : recommendedUsers.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"card bg-base-200 p-6 text-center\">\r\n\t\t\t\t\t\t\t<h3 className=\"font-semibold text-lg mb-2\">No recommendations available</h3>\r\n\t\t\t\t\t\t\t<p className=\"text-base-content opacity-70\">\r\n\t\t\t\t\t\t\t\tCheck back later for new language partners!\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n\t\t\t\t\t\t\t{recommendedUsers.map((user) => {\r\n\t\t\t\t\t\t\t\tconst hasRequestBeenSent = outgoingRequestsIds.has(user._id);\r\n\t\t\t\t\t\t\t\tconst isCurrentlySending = sendingRequest === user._id;\r\n\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tkey={user._id}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"card bg-base-200 hover:shadow-lg transition-all duration-300\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body p-5 space-y-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t{/* User Profile */}\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"avatar size-16 rounded-full overflow-hidden relative\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={user.profilePic}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={user.fullName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"object-cover\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsizes=\"64px\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpriority={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1 min-w-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"font-semibold text-lg truncate\">{user.fullName}</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{user.location && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center text-xs opacity-70 mt-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MapPinIcon className=\"size-3 mr-1 flex-shrink-0\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"truncate\">{user.location}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t{/* Languages with flags */}\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-wrap gap-1.5\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"badge badge-secondary text-xs\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{getLanguageFlag(user.nativeLanguage)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tNative: {capitialize(user.nativeLanguage)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"badge badge-outline text-xs\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{getLanguageFlag(user.learningLanguage)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tLearning: {capitialize(user.learningLanguage)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t{/* Bio */}\r\n\t\t\t\t\t\t\t\t\t\t\t{user.bio && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm opacity-70 line-clamp-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{user.bio}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t{/* Action button */}\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`btn w-full mt-2 ${hasRequestBeenSent ? \"btn-disabled\" : \"btn-primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleSendFriendRequest(user._id, onFriendRequestSent)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={hasRequestBeenSent || isCurrentlySending}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{isCurrentlySending ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"loading loading-spinner loading-xs mr-2\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSending...\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : hasRequestBeenSent ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircleIcon className=\"size-4 mr-2\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tRequest Sent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<UserPlusIcon className=\"size-4 mr-2\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSend Friend Request\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</section>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}
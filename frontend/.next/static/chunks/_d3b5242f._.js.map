{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/hooks/useUpload.ts"],"sourcesContent":["// hooks/useUpload.ts\r\n\r\nimport { useState, useCallback } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext'; // Import useAuth v√†o hook\r\n\r\nexport interface UploadFileResponse {\r\n    success: boolean;\r\n    data?: {\r\n        attachment: {\r\n            id: string;\r\n            originalName: string;\r\n            size: number;\r\n            mimeType: string;\r\n            url: string;\r\n            uploadedAt: string;\r\n        }\r\n    };\r\n    error?: string;\r\n}\r\n\r\nexport interface FileWithStatus {\r\n    file: File;\r\n    id: string;\r\n    status: 'pending' | 'uploading' | 'completed' | 'error';\r\n    progress: number;\r\n    error?: string;\r\n    result?: any;\r\n}\r\n\r\nconst BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5001/api';\r\n\r\nexport function useUpload() {\r\n    const { user, token } = useAuth(); // D√πng useAuth trong hook\r\n    const [files, setFiles] = useState<FileWithStatus[]>([]);\r\n    const [uploading, setUploading] = useState(false);\r\n    const [progress, setProgress] = useState(0);\r\n    const [uploadedFiles, setUploadedFiles] = useState<any[]>([]);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    // Upload single file function - b√¢y gi·ªù c√≥ th·ªÉ access token\r\n    const uploadSingleFile = useCallback(async (\r\n        file: File,\r\n        onProgress?: (progress: number) => void\r\n    ): Promise<UploadFileResponse> => {\r\n        const getValidToken = (): string | null => {\r\n            // Try context first\r\n            if (token && typeof token === 'string' && token !== 'null') {\r\n                return token;\r\n            }\r\n            // Try localStorage\r\n            const storageToken = localStorage.getItem(\"auth_token\");\r\n            if (storageToken && storageToken !== 'null' && storageToken !== 'undefined') {\r\n                return typeof storageToken === 'string' ? storageToken : String(storageToken);\r\n            }\r\n            return null;\r\n        };\r\n\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('file', file);\r\n\r\n            return new Promise((resolve, reject) => {\r\n                const xhr = new XMLHttpRequest();\r\n\r\n                // Track upload progress\r\n                xhr.upload.addEventListener('progress', (event) => {\r\n                    if (event.lengthComputable && onProgress) {\r\n                        const progress = Math.round((event.loaded / event.total) * 100);\r\n                        onProgress(progress);\r\n                    }\r\n                });\r\n\r\n                xhr.addEventListener('load', () => {\r\n                    if (xhr.status >= 200 && xhr.status < 300) {\r\n                        try {\r\n                            const response = JSON.parse(xhr.responseText);\r\n                            resolve(response);\r\n                        } catch (error) {\r\n                            reject(new Error('Invalid response format'));\r\n                        }\r\n                    } else {\r\n                        try {\r\n                            const errorResponse = JSON.parse(xhr.responseText);\r\n                            reject(new Error(errorResponse.message || 'Upload failed'));\r\n                        } catch {\r\n                            reject(new Error(`HTTP ${xhr.status}: Upload failed`));\r\n                        }\r\n                    }\r\n                });\r\n\r\n                xhr.addEventListener('error', () => {\r\n                    reject(new Error('Network error during upload'));\r\n                });\r\n\r\n                xhr.addEventListener('timeout', () => {\r\n                    reject(new Error('Upload timeout'));\r\n                });\r\n\r\n                xhr.open('POST', `${BASE_URL}/upload/file`);\r\n\r\n                // Set headers\r\n                const validToken = getValidToken();\r\n                if (validToken) {\r\n                    xhr.setRequestHeader('Authorization', `Bearer ${validToken}`);\r\n                }\r\n\r\n                xhr.timeout = 300000; // 5 minutes timeout\r\n                xhr.send(formData);\r\n            });\r\n        } catch (error) {\r\n            console.error('‚ùå Upload file error:', error);\r\n            throw error;\r\n        }\r\n    }, [token]); // Dependency array\r\n\r\n    // Add files to upload queue\r\n    const addFiles = useCallback((newFiles: File[]) => {\r\n        const fileStatuses: FileWithStatus[] = newFiles.map(file => ({\r\n            file,\r\n            id: `${Date.now()}-${Math.random()}`,\r\n            status: 'pending' as const,\r\n            progress: 0,\r\n        }));\r\n\r\n        setFiles(prev => [...prev, ...fileStatuses]);\r\n        setError(null);\r\n    }, []);\r\n\r\n    // Remove file from queue\r\n    const removeFile = useCallback((fileId: string) => {\r\n        setFiles(prev => prev.filter(f => f.id !== fileId));\r\n    }, []);\r\n\r\n    // Upload all files\r\n    const uploadAllFiles = useCallback(async () => {\r\n        const pendingFiles = files.filter(f => f.status === 'pending');\r\n        if (pendingFiles.length === 0) return [];\r\n\r\n        setUploading(true);\r\n        setError(null);\r\n\r\n        const results: any[] = [];\r\n        let completedCount = 0;\r\n\r\n        try {\r\n            for (const fileStatus of pendingFiles) {\r\n                // Update file status to uploading\r\n                setFiles(prev => prev.map(f =>\r\n                    f.id === fileStatus.id\r\n                        ? { ...f, status: 'uploading' as const }\r\n                        : f\r\n                ));\r\n\r\n                try {\r\n                    const result = await uploadSingleFile(\r\n                        fileStatus.file,\r\n                        (progress) => {\r\n                            // Update individual file progress\r\n                            setFiles(prev => prev.map(f =>\r\n                                f.id === fileStatus.id\r\n                                    ? { ...f, progress }\r\n                                    : f\r\n                            ));\r\n                        }\r\n                    );\r\n\r\n                    // Mark file as completed\r\n                    setFiles(prev => prev.map(f =>\r\n                        f.id === fileStatus.id\r\n                            ? { ...f, status: 'completed' as const, progress: 100, result }\r\n                            : f\r\n                    ));\r\n\r\n                    results.push(result);\r\n                    completedCount++;\r\n\r\n                    // Update overall progress\r\n                    setProgress(Math.round((completedCount / pendingFiles.length) * 100));\r\n\r\n                } catch (error) {\r\n                    // Mark file as error\r\n                    setFiles(prev => prev.map(f =>\r\n                        f.id === fileStatus.id\r\n                            ? {\r\n                                ...f,\r\n                                status: 'error' as const,\r\n                                error: error instanceof Error ? error.message : 'Upload failed'\r\n                            }\r\n                            : f\r\n                    ));\r\n                }\r\n            }\r\n\r\n            setUploadedFiles(results);\r\n            return results;\r\n\r\n        } catch (error) {\r\n            setError(error instanceof Error ? error.message : 'Upload failed');\r\n            throw error;\r\n        } finally {\r\n            setUploading(false);\r\n        }\r\n    }, [files, uploadSingleFile]);\r\n\r\n    // Reset all state\r\n    const reset = useCallback(() => {\r\n        setFiles([]);\r\n        setUploading(false);\r\n        setProgress(0);\r\n        setUploadedFiles([]);\r\n        setError(null);\r\n    }, []);\r\n\r\n    // Get upload statistics\r\n    const getStats = useCallback(() => {\r\n        const total = files.length;\r\n        const completed = files.filter(f => f.status === 'completed').length;\r\n        const errors = files.filter(f => f.status === 'error').length;\r\n        const pending = files.filter(f => f.status === 'pending').length;\r\n        const uploading = files.filter(f => f.status === 'uploading').length;\r\n\r\n        const valid = files.filter(f => {\r\n            const maxSize = 10 * 1024 * 1024; // 10MB\r\n            const allowedTypes = [\r\n                'application/pdf',\r\n                'image/jpeg',\r\n                'image/png',\r\n                'image/gif',\r\n                'application/msword',\r\n                'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n                'text/plain'\r\n            ];\r\n            return f.file.size <= maxSize && allowedTypes.includes(f.file.type);\r\n        }).length;\r\n\r\n        const invalid = total - valid;\r\n        const totalSize = files.reduce((sum, f) => sum + f.file.size, 0);\r\n        const totalSizeFormatted = `${(totalSize / (1024 * 1024)).toFixed(1)} MB`;\r\n\r\n        return {\r\n            total,\r\n            completed,\r\n            errors,\r\n            pending,\r\n            uploading,\r\n            valid,\r\n            invalid,\r\n            totalSize,\r\n            totalSizeFormatted\r\n        };\r\n    }, [files]);\r\n\r\n    return {\r\n        files,\r\n        uploading,\r\n        progress,\r\n        uploadedFiles,\r\n        error,\r\n        addFiles,\r\n        removeFile,\r\n        uploadAllFiles,\r\n        reset,\r\n        getStats\r\n    };\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 300, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/types/Upload.ts"],"sourcesContent":["export interface UploadFileResponse {\r\n    success: boolean;\r\n    message: string;\r\n    data?: {\r\n        attachment: {\r\n            filename: string;\r\n            originalName: string;\r\n            size: number;\r\n            mimeType: string;\r\n            url: string;\r\n            uploadedAt: string;\r\n            fileType: string;\r\n            category: 'image' | 'pdf' | 'document';\r\n        };\r\n    };\r\n    error?: string;\r\n}\r\n\r\nexport interface DeleteFileResponse {\r\n    success: boolean;\r\n    message: string;\r\n    error?: string;\r\n}\r\n\r\nexport const SUPPORTED_TYPES = [\r\n    'application/pdf',\r\n    'image/jpeg',\r\n    'image/png', \r\n    'image/gif',\r\n    'application/msword',\r\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n    'text/plain'\r\n];\r\n\r\nexport const MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB"],"names":[],"mappings":";;;;AAwBO,MAAM,kBAAkB;IAC3B;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AAEM,MAAM,gBAAgB,KAAK,OAAO,MAAM,OAAO","debugId":null}},
    {"offset": {"line": 323, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/lib/utils.ts"],"sourcesContent":["import { MAX_FILE_SIZE, SUPPORTED_TYPES } from \"@/types/Upload\";\r\nimport { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\ninterface CapitalizeFunction {\r\n    (str: string): string;\r\n}\r\n\r\nexport const capitialize: CapitalizeFunction = (str) => str.charAt(0).toUpperCase() + str.slice(1);\r\n\r\n// üìã Validate file before upload\r\nexport const validateFile = (file: File): string | null => {\r\n    if (!SUPPORTED_TYPES.includes(file.type)) {\r\n        return 'Unsupported file type. Supported: PDF, Images, Word documents, Text files';\r\n    }\r\n\r\n    if (file.size > MAX_FILE_SIZE) {\r\n        return 'File size exceeds 10MB limit';\r\n    }\r\n\r\n    if (file.size === 0) {\r\n        return 'Empty file not allowed';\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n// üìä Get file info\r\nexport const getFileInfo = (file: File) => {\r\n    return {\r\n        name: file.name,\r\n        size: file.size,\r\n        type: file.type,\r\n        lastModified: file.lastModified,\r\n        category: file.type.startsWith('image/') ? 'image' :\r\n            file.type === 'application/pdf' ? 'pdf' : 'document',\r\n        sizeFormatted: formatFileSize(file.size)\r\n    };\r\n};\r\n\r\n// üìè Format file size\r\nexport const formatFileSize = (bytes: number): string => {\r\n    if (bytes === 0) return '0 Bytes';\r\n\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n};\r\n\r\n// üìÇ Get file category\r\nexport const getFileCategory = (file: File): 'image' | 'pdf' | 'document' => {\r\n    if (file.type.startsWith('image/')) return 'image';\r\n    if (file.type === 'application/pdf') return 'pdf';\r\n    return 'document';\r\n};\r\n\r\n// üîç Check if file type is supported\r\nexport const isSupportedFileType = (file: File): boolean => {\r\n    return SUPPORTED_TYPES.includes(file.type);\r\n};\r\n\r\n// üìã Get supported file types for display\r\nexport const getSupportedFileTypes = () => ({\r\n    types: SUPPORTED_TYPES,\r\n    extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.gif', '.doc', '.docx', '.txt'],\r\n    maxSize: MAX_FILE_SIZE,\r\n    maxSizeFormatted: formatFileSize(MAX_FILE_SIZE)\r\n});\r\n\r\n\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n    return twMerge(clsx(inputs))\r\n}"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AACA;;;;AAKO,MAAM,cAAkC,CAAC,MAAQ,IAAI,MAAM,CAAC,GAAG,WAAW,KAAK,IAAI,KAAK,CAAC;AAGzF,MAAM,eAAe,CAAC;IACzB,IAAI,CAAC,kHAAA,CAAA,kBAAe,CAAC,QAAQ,CAAC,KAAK,IAAI,GAAG;QACtC,OAAO;IACX;IAEA,IAAI,KAAK,IAAI,GAAG,kHAAA,CAAA,gBAAa,EAAE;QAC3B,OAAO;IACX;IAEA,IAAI,KAAK,IAAI,KAAK,GAAG;QACjB,OAAO;IACX;IAEA,OAAO;AACX;AAGO,MAAM,cAAc,CAAC;IACxB,OAAO;QACH,MAAM,KAAK,IAAI;QACf,MAAM,KAAK,IAAI;QACf,MAAM,KAAK,IAAI;QACf,cAAc,KAAK,YAAY;QAC/B,UAAU,KAAK,IAAI,CAAC,UAAU,CAAC,YAAY,UACvC,KAAK,IAAI,KAAK,oBAAoB,QAAQ;QAC9C,eAAe,eAAe,KAAK,IAAI;IAC3C;AACJ;AAGO,MAAM,iBAAiB,CAAC;IAC3B,IAAI,UAAU,GAAG,OAAO;IAExB,MAAM,IAAI;IACV,MAAM,QAAQ;QAAC;QAAS;QAAM;QAAM;KAAK;IACzC,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC;IAEhD,OAAO,WAAW,CAAC,QAAQ,KAAK,GAAG,CAAC,GAAG,EAAE,EAAE,OAAO,CAAC,MAAM,MAAM,KAAK,CAAC,EAAE;AAC3E;AAGO,MAAM,kBAAkB,CAAC;IAC5B,IAAI,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW,OAAO;IAC3C,IAAI,KAAK,IAAI,KAAK,mBAAmB,OAAO;IAC5C,OAAO;AACX;AAGO,MAAM,sBAAsB,CAAC;IAChC,OAAO,kHAAA,CAAA,kBAAe,CAAC,QAAQ,CAAC,KAAK,IAAI;AAC7C;AAGO,MAAM,wBAAwB,IAAM,CAAC;QACxC,OAAO,kHAAA,CAAA,kBAAe;QACtB,YAAY;YAAC;YAAQ;YAAQ;YAAS;YAAQ;YAAQ;YAAQ;YAAS;SAAO;QAC9E,SAAS,kHAAA,CAAA,gBAAa;QACtB,kBAAkB,eAAe,kHAAA,CAAA,gBAAa;IAClD,CAAC;AAIM,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACxB","debugId":null}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/components/ui/FilePreview.tsx"],"sourcesContent":["// components/ui/upload/FilePreview.tsx\r\n\r\n'use client';\r\n\r\nimport { FileWithStatus } from '@/hooks/useUpload';\r\nimport { cn } from '@/lib/utils';\r\nimport { \r\n    FileText, \r\n    Image as ImageIcon, \r\n    FileType, \r\n    X, \r\n    AlertCircle,\r\n    CheckCircle\r\n} from 'lucide-react';\r\nimport Image from 'next/image';\r\n\r\ninterface FilePreviewProps {\r\n    file: FileWith;\r\n    onRemove: (fileId: string) => void;\r\n    className?: string;\r\n    showRemoveButton?: boolean;\r\n}\r\n\r\nexport function FilePreview({ \r\n    file, \r\n    onRemove, \r\n    className,\r\n    showRemoveButton = true \r\n}: FilePreviewProps) {\r\n    const getFileIcon = () => {\r\n        switch (file.info.category) {\r\n            case 'image':\r\n                return <ImageIcon className=\"w-6 h-6 text-blue-500\" />;\r\n            case 'pdf':\r\n                return <FileType className=\"w-6 h-6 text-red-500\" />;\r\n            default:\r\n                return <FileText className=\"w-6 h-6 text-gray-500\" />;\r\n        }\r\n    };\r\n\r\n    const getStatusIcon = () => {\r\n        if (file.validation.isValid) {\r\n            return <CheckCircle className=\"w-4 h-4 text-green-500\" />;\r\n        } else {\r\n            return <AlertCircle className=\"w-4 h-4 text-red-500\" />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={cn(\r\n            'relative group border rounded-lg p-4 bg-white shadow-sm hover:shadow-md transition-shadow',\r\n            file.validation.isValid ? 'border-gray-200' : 'border-red-200 bg-red-50',\r\n            className\r\n        )}>\r\n            {/* Remove Button */}\r\n            {showRemoveButton && (\r\n                <button\r\n                    onClick={() => onRemove(file.id)}\r\n                    className=\"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 z-10\"\r\n                    title=\"Remove file\"\r\n                >\r\n                    <X className=\"w-3 h-3\" />\r\n                </button>\r\n            )}\r\n\r\n            <div className=\"flex items-start space-x-3\">\r\n                {/* File Preview/Icon */}\r\n                <div className=\"flex-shrink-0\">\r\n                    {file.info.category === 'image' && file.preview ? (\r\n                        <div className=\"relative w-16 h-16 rounded-lg overflow-hidden border\">\r\n                            <Image\r\n                                src={file.preview}\r\n                                alt={file.info.name}\r\n                                fill\r\n                                className=\"object-cover\"\r\n                            />\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"w-16 h-16 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center\">\r\n                            {getFileIcon()}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* File Info */}\r\n                <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center space-x-2 mb-1\">\r\n                        {getStatusIcon()}\r\n                        <h4 className=\"text-sm font-medium text-gray-900 truncate\">\r\n                            {file.info.name}\r\n                        </h4>\r\n                    </div>\r\n                    \r\n                    <div className=\"text-xs text-gray-500 space-y-1\">\r\n                        <div className=\"flex items-center space-x-4\">\r\n                            <span>{file.info.sizeFormatted}</span>\r\n                            <span className=\"capitalize\">{file.info.category}</span>\r\n                        </div>\r\n                        \r\n                        {file.validation.error && (\r\n                            <div className=\"text-red-600 font-medium\">\r\n                                {file.validation.error}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* File Type Badge */}\r\n            <div className=\"absolute top-2 right-2\">\r\n                <span className={cn(\r\n                    'inline-flex items-center px-2 py-1 rounded-full text-xs font-medium',\r\n                    file.info.category === 'image' && 'bg-blue-100 text-blue-800',\r\n                    file.info.category === 'pdf' && 'bg-red-100 text-red-800',\r\n                    file.info.category === 'document' && 'bg-gray-100 text-gray-800'\r\n                )}>\r\n                    {file.info.type.split('/')[1]?.toUpperCase() || 'FILE'}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Grid view for multiple files\r\ninterface FilePreviewGridProps {\r\n    files: FileWithPreview[];\r\n    onRemove: (fileId: string) => void;\r\n    className?: string;\r\n}\r\n\r\nexport function FilePreviewGrid({ files, onRemove, className }: FilePreviewGridProps) {\r\n    if (files.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className={cn(\r\n            'grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4',\r\n            className\r\n        )}>\r\n            {files.map((file) => (\r\n                <FilePreview\r\n                    key={file.id}\r\n                    file={file}\r\n                    onRemove={onRemove}\r\n                />\r\n            ))}\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":"AAAA,uCAAuC;;;;;;AAKvC;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAZA;;;;;AAqBO,SAAS,YAAY,EACxB,IAAI,EACJ,QAAQ,EACR,SAAS,EACT,mBAAmB,IAAI,EACR;IACf,MAAM,cAAc;QAChB,OAAQ,KAAK,IAAI,CAAC,QAAQ;YACtB,KAAK;gBACD,qBAAO,6LAAC,uMAAA,CAAA,QAAS;oBAAC,WAAU;;;;;;YAChC,KAAK;gBACD,qBAAO,6LAAC,iNAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;YAC/B;gBACI,qBAAO,6LAAC,iNAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;QACnC;IACJ;IAEA,MAAM,gBAAgB;QAClB,IAAI,KAAK,UAAU,CAAC,OAAO,EAAE;YACzB,qBAAO,6LAAC,8NAAA,CAAA,cAAW;gBAAC,WAAU;;;;;;QAClC,OAAO;YACH,qBAAO,6LAAC,uNAAA,CAAA,cAAW;gBAAC,WAAU;;;;;;QAClC;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACb,6FACA,KAAK,UAAU,CAAC,OAAO,GAAG,oBAAoB,4BAC9C;;YAGC,kCACG,6LAAC;gBACG,SAAS,IAAM,SAAS,KAAK,EAAE;gBAC/B,WAAU;gBACV,OAAM;0BAEN,cAAA,6LAAC,+LAAA,CAAA,IAAC;oBAAC,WAAU;;;;;;;;;;;0BAIrB,6LAAC;gBAAI,WAAU;;kCAEX,6LAAC;wBAAI,WAAU;kCACV,KAAK,IAAI,CAAC,QAAQ,KAAK,WAAW,KAAK,OAAO,iBAC3C,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC,gIAAA,CAAA,UAAK;gCACF,KAAK,KAAK,OAAO;gCACjB,KAAK,KAAK,IAAI,CAAC,IAAI;gCACnB,IAAI;gCACJ,WAAU;;;;;;;;;;iDAIlB,6LAAC;4BAAI,WAAU;sCACV;;;;;;;;;;;kCAMb,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;oCACV;kDACD,6LAAC;wCAAG,WAAU;kDACT,KAAK,IAAI,CAAC,IAAI;;;;;;;;;;;;0CAIvB,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;0DAAM,KAAK,IAAI,CAAC,aAAa;;;;;;0DAC9B,6LAAC;gDAAK,WAAU;0DAAc,KAAK,IAAI,CAAC,QAAQ;;;;;;;;;;;;oCAGnD,KAAK,UAAU,CAAC,KAAK,kBAClB,6LAAC;wCAAI,WAAU;kDACV,KAAK,UAAU,CAAC,KAAK;;;;;;;;;;;;;;;;;;;;;;;;0BAQ1C,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAK,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACd,uEACA,KAAK,IAAI,CAAC,QAAQ,KAAK,WAAW,6BAClC,KAAK,IAAI,CAAC,QAAQ,KAAK,SAAS,2BAChC,KAAK,IAAI,CAAC,QAAQ,KAAK,cAAc;8BAEpC,KAAK,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,iBAAiB;;;;;;;;;;;;;;;;;AAKpE;KAlGgB;AA2GT,SAAS,gBAAgB,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,EAAwB;IAChF,IAAI,MAAM,MAAM,KAAK,GAAG;QACpB,OAAO;IACX;IAEA,qBACI,6LAAC;QAAI,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACb,wDACA;kBAEC,MAAM,GAAG,CAAC,CAAC,qBACR,6LAAC;gBAEG,MAAM;gBACN,UAAU;eAFL,KAAK,EAAE;;;;;;;;;;AAOhC;MAnBgB","debugId":null}},
    {"offset": {"line": 659, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/components/ui/ProgressBar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface ProgressBarProps {\r\n    progress: number;\r\n    className?: string;\r\n    showPercentage?: boolean;\r\n    size?: 'sm' | 'md' | 'lg';\r\n    variant?: 'default' | 'success' | 'error';\r\n}\r\n\r\nexport function ProgressBar({ \r\n    progress, \r\n    className,\r\n    showPercentage = true,\r\n    size = 'md',\r\n    variant = 'default'\r\n}: ProgressBarProps) {\r\n    const sizeClasses = {\r\n        sm: 'h-1',\r\n        md: 'h-2',\r\n        lg: 'h-3'\r\n    };\r\n\r\n    const variantClasses = {\r\n        default: 'bg-blue-500',\r\n        success: 'bg-green-500',\r\n        error: 'bg-red-500'\r\n    };\r\n\r\n    return (\r\n        <div className={cn('w-full', className)}>\r\n            <div className={cn(\r\n                'w-full bg-gray-200 rounded-full overflow-hidden',\r\n                sizeClasses[size]\r\n            )}>\r\n                <div\r\n                    className={cn(\r\n                        'h-full rounded-full transition-all duration-300 ease-out',\r\n                        variantClasses[variant]\r\n                    )}\r\n                    style={{ width: `${Math.min(100, Math.max(0, progress))}%` }}\r\n                />\r\n            </div>\r\n            {showPercentage && (\r\n                <div className=\"flex justify-between items-center mt-1\">\r\n                    <span className=\"text-xs text-gray-500\">\r\n                        Uploading...\r\n                    </span>\r\n                    <span className=\"text-xs font-medium text-gray-700\">\r\n                        {Math.round(progress)}%\r\n                    </span>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAYO,SAAS,YAAY,EACxB,QAAQ,EACR,SAAS,EACT,iBAAiB,IAAI,EACrB,OAAO,IAAI,EACX,UAAU,SAAS,EACJ;IACf,MAAM,cAAc;QAChB,IAAI;QACJ,IAAI;QACJ,IAAI;IACR;IAEA,MAAM,iBAAiB;QACnB,SAAS;QACT,SAAS;QACT,OAAO;IACX;IAEA,qBACI,6LAAC;QAAI,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,UAAU;;0BACzB,6LAAC;gBAAI,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACb,mDACA,WAAW,CAAC,KAAK;0BAEjB,cAAA,6LAAC;oBACG,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACR,4DACA,cAAc,CAAC,QAAQ;oBAE3B,OAAO;wBAAE,OAAO,GAAG,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG,WAAW,CAAC,CAAC;oBAAC;;;;;;;;;;;YAGlE,gCACG,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAK,WAAU;kCAAwB;;;;;;kCAGxC,6LAAC;wBAAK,WAAU;;4BACX,KAAK,KAAK,CAAC;4BAAU;;;;;;;;;;;;;;;;;;;AAM9C;KA7CgB","debugId":null}},
    {"offset": {"line": 745, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/components/ui/Button.tsx"],"sourcesContent":["// components/ui/button.tsx\r\n\r\nimport * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n    variant?: 'default' | 'destructive' | 'outline' | 'secondary' | 'ghost' | 'link'\r\n    size?: 'default' | 'sm' | 'lg' | 'icon'\r\n    asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant = \"default\", size = \"default\", asChild = false, ...props }, ref) => {\r\n        const baseStyles = \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\"\r\n\r\n        const variants = {\r\n            default: \"bg-primary text-primary-foreground hover:bg-primary/90 bg-blue-600 text-white hover:bg-blue-700\",\r\n            destructive: \"bg-red-600 text-white hover:bg-red-700\",\r\n            outline: \"border border-gray-300 bg-white hover:bg-gray-50 hover:text-gray-900\",\r\n            secondary: \"bg-gray-100 text-gray-900 hover:bg-gray-200\",\r\n            ghost: \"hover:bg-gray-100 hover:text-gray-900\",\r\n            link: \"text-blue-600 underline-offset-4 hover:underline\",\r\n        }\r\n\r\n        const sizes = {\r\n            default: \"h-10 px-4 py-2\",\r\n            sm: \"h-9 rounded-md px-3\",\r\n            lg: \"h-11 rounded-md px-8\",\r\n            icon: \"h-10 w-10\",\r\n        }\r\n\r\n        return (\r\n            <button\r\n                className={cn(\r\n                    baseStyles,\r\n                    variants[variant],\r\n                    sizes[size],\r\n                    className\r\n                )}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button }"],"names":[],"mappings":"AAAA,2BAA2B;;;;;AAE3B;AACA;;;;AAQA,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC1B,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,SAAS,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IAC9E,MAAM,aAAa;IAEnB,MAAM,WAAW;QACb,SAAS;QACT,aAAa;QACb,SAAS;QACT,WAAW;QACX,OAAO;QACP,MAAM;IACV;IAEA,MAAM,QAAQ;QACV,SAAS;QACT,IAAI;QACJ,IAAI;QACJ,MAAM;IACV;IAEA,qBACI,6LAAC;QACG,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACR,YACA,QAAQ,CAAC,QAAQ,EACjB,KAAK,CAAC,KAAK,EACX;QAEJ,KAAK;QACJ,GAAG,KAAK;;;;;;AAGrB;;AAEJ,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 796, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/components/ui/Alert.tsx"],"sourcesContent":["// components/ui/alert.tsx\r\n\r\nimport * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Alert = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement> & {\r\n    variant?: 'default' | 'destructive'\r\n}>(({ className, variant = 'default', ...props }, ref) => {\r\n    const variants = {\r\n        default: \"bg-blue-50 border-blue-200 text-blue-800\",\r\n        destructive: \"bg-red-50 border-red-200 text-red-800\",\r\n    }\r\n\r\n    return (\r\n        <div\r\n            ref={ref}\r\n            role=\"alert\"\r\n            className={cn(\r\n                \"relative w-full rounded-lg border p-4\",\r\n                variants[variant],\r\n                className\r\n            )}\r\n            {...props}\r\n        />\r\n    )\r\n})\r\nAlert.displayName = \"Alert\"\r\n\r\nconst AlertDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\r\n    ({ className, ...props }, ref) => (\r\n        <div\r\n            ref={ref}\r\n            className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\r\n            {...props}\r\n        />\r\n    ))\r\nAlertDescription.displayName = \"AlertDescription\"\r\n\r\nconst AlertTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\r\n    ({ className, ...props }, ref) => (\r\n        <h5\r\n            ref={ref}\r\n            className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\r\n            {...props}\r\n        />\r\n    ))\r\nAlertTitle.displayName = \"AlertTitle\"\r\n\r\nexport { Alert, AlertDescription, AlertTitle }"],"names":[],"mappings":"AAAA,0BAA0B;;;;;;;AAE1B;AACA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAE1B,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,GAAG,OAAO,EAAE;IAC9C,MAAM,WAAW;QACb,SAAS;QACT,aAAa;IACjB;IAEA,qBACI,6LAAC;QACG,KAAK;QACL,MAAK;QACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACR,yCACA,QAAQ,CAAC,QAAQ,EACjB;QAEH,GAAG,KAAK;;;;;;AAGrB;;AACA,MAAM,WAAW,GAAG;AAEpB,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QACpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACtB,6LAAC;QACG,KAAK;QACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGrB,iBAAiB,WAAW,GAAG;AAE/B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAC9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACtB,6LAAC;QACG,KAAK;QACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAC7D,GAAG,KAAK;;;;;;;AAGrB,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 865, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/components/ui/FileUpload.tsx"],"sourcesContent":["// components/ui/upload/FileUpload.tsx\r\n\r\n'use client';\r\n\r\nimport { useCallback, useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { useUpload } from '@/hooks/useUpload';\r\nimport { FilePreviewGrid } from './FilePreview';\r\nimport { ProgressBar } from './ProgressBar';\r\nimport { cn } from '@/lib/utils';\r\nimport { \r\n    Upload, \r\n    File, \r\n    AlertCircle, \r\n    CheckCircle2,\r\n    Loader2,\r\n    X\r\n} from 'lucide-react';\r\nimport { Button } from './Button';\r\nimport { Alert, AlertDescription } from './Alert';\r\n\r\ninterface FileUploadProps {\r\n    onUploadComplete?: (uploadedFiles: any[]) => void;\r\n    maxFiles?: number;\r\n    className?: string;\r\n}\r\n\r\nexport function FileUpload({ \r\n    onUploadComplete, \r\n    maxFiles = 10,\r\n    className \r\n}: FileUploadProps) {\r\n    const {\r\n        files,\r\n        uploading,\r\n        progress,\r\n        uploadedFiles,\r\n        error,\r\n        addFiles,\r\n        removeFile,\r\n        uploadAllFiles,\r\n        reset,\r\n        getStats\r\n    } = useUpload();\r\n\r\n    const [uploadStep, setUploadStep] = useState<'select' | 'preview' | 'uploading' | 'complete'>('select');\r\n\r\n    // Handle file drop/select\r\n    const onDrop = useCallback((acceptedFiles: File[]) => {\r\n        if (files.length + acceptedFiles.length > maxFiles) {\r\n            alert(`Maximum ${maxFiles} files allowed`);\r\n            return;\r\n        }\r\n\r\n        addFiles(acceptedFiles);\r\n        if (acceptedFiles.length > 0) {\r\n            setUploadStep('preview');\r\n        }\r\n    }, [addFiles, files.length, maxFiles]);\r\n\r\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n        onDrop,\r\n        multiple: true,\r\n        maxFiles,\r\n        accept: {\r\n            'application/pdf': ['.pdf'],\r\n            'image/jpeg': ['.jpg', '.jpeg'],\r\n            'image/png': ['.png'],\r\n            'image/gif': ['.gif'],\r\n            'application/msword': ['.doc'],\r\n            'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],\r\n            'text/plain': ['.txt']\r\n        }\r\n    });\r\n\r\n    // Handle upload process\r\n    const handleUpload = async () => {\r\n        try {\r\n            setUploadStep('uploading');\r\n            const results = await uploadAllFiles();\r\n            setUploadStep('complete');\r\n            onUploadComplete?.(results || []);\r\n        } catch (error) {\r\n            console.error('Upload failed:', error);\r\n            setUploadStep('preview');\r\n        }\r\n    };\r\n\r\n    // Reset to initial state\r\n    const handleReset = () => {\r\n        reset();\r\n        setUploadStep('select');\r\n    };\r\n\r\n    const stats = getStats();\r\n\r\n    return (\r\n        <div className={cn('w-full max-w-4xl mx-auto', className)}>\r\n            {/* Step 1: File Selection */}\r\n            {uploadStep === 'select' && (\r\n                <div className=\"space-y-4\">\r\n                    <div\r\n                        {...getRootProps()}\r\n                        className={cn(\r\n                            'border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors',\r\n                            isDragActive \r\n                                ? 'border-blue-500 bg-blue-50' \r\n                                : 'border-gray-300 hover:border-gray-400'\r\n                        )}\r\n                    >\r\n                        <input {...getInputProps()} />\r\n                        \r\n                        <div className=\"flex flex-col items-center space-y-4\">\r\n                            <Upload className={cn(\r\n                                'w-12 h-12',\r\n                                isDragActive ? 'text-blue-500' : 'text-gray-400'\r\n                            )} />\r\n                            \r\n                            <div>\r\n                                <p className=\"text-lg font-medium text-gray-900\">\r\n                                    {isDragActive \r\n                                        ? 'Drop files here...' \r\n                                        : 'Upload your study materials'\r\n                                    }\r\n                                </p>\r\n                                <p className=\"text-sm text-gray-500 mt-1\">\r\n                                    Drag & drop files or click to browse\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div className=\"text-xs text-gray-400 space-y-1\">\r\n                                <p>Supported: PDF, Images (JPG, PNG, GIF), Word docs, Text files</p>\r\n                                <p>Max file size: 10MB ‚Ä¢ Max files: {maxFiles}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Quick Upload Button */}\r\n                    <div className=\"text-center\">\r\n                        <Button\r\n                            variant=\"outline\"\r\n                            onClick={() => (document.querySelector('input[type=\"file\"]') as HTMLInputElement)?.click()}\r\n                        >\r\n                            <File className=\"w-4 h-4 mr-2\" />\r\n                            Choose Files\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Step 2: Preview & Confirm */}\r\n            {uploadStep === 'preview' && (\r\n                <div className=\"space-y-6\">\r\n                    {/* Header */}\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                                Review Files ({stats.total})\r\n                            </h3>\r\n                            <p className=\"text-sm text-gray-500\">\r\n                                {stats.valid} valid ‚Ä¢ {stats.invalid} invalid ‚Ä¢ {stats.totalSizeFormatted}\r\n                            </p>\r\n                        </div>\r\n                        \r\n                        <div className=\"flex space-x-2\">\r\n                            <Button\r\n                                variant=\"outline\"\r\n                                onClick={() => setUploadStep('select')}\r\n                            >\r\n                                Add More\r\n                            </Button>\r\n                            \r\n                            <Button\r\n                                variant=\"outline\"\r\n                                onClick={handleReset}\r\n                            >\r\n                                <X className=\"w-4 h-4 mr-2\" />\r\n                                Clear All\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* File Previews */}\r\n                    <FilePreviewGrid \r\n                        files={files} \r\n                        onRemove={removeFile}\r\n                    />\r\n\r\n                    {/* Upload Actions */}\r\n                    <div className=\"flex items-center justify-between pt-4 border-t\">\r\n                        <div className=\"text-sm text-gray-500\">\r\n                            {stats.valid > 0 \r\n                                ? `Ready to upload ${stats.valid} file${stats.valid > 1 ? 's' : ''}`\r\n                                : 'No valid files to upload'\r\n                            }\r\n                        </div>\r\n                        \r\n                        <div className=\"flex space-x-3\">\r\n                            <Button\r\n                                variant=\"outline\"\r\n                                onClick={() => setUploadStep('select')}\r\n                            >\r\n                                Back\r\n                            </Button>\r\n                            \r\n                            <Button\r\n                                onClick={handleUpload}\r\n                                disabled={stats.valid === 0}\r\n                                className=\"px-6\"\r\n                            >\r\n                                <Upload className=\"w-4 h-4 mr-2\" />\r\n                                Upload {stats.valid} File{stats.valid > 1 ? 's' : ''}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Step 3: Uploading */}\r\n            {uploadStep === 'uploading' && (\r\n                <div className=\"space-y-6\">\r\n                    <div className=\"text-center space-y-4\">\r\n                        <Loader2 className=\"w-12 h-12 animate-spin text-blue-500 mx-auto\" />\r\n                        \r\n                        <div>\r\n                            <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                                Uploading Files...\r\n                            </h3>\r\n                            <p className=\"text-sm text-gray-500\">\r\n                                Please don't close this window\r\n                            </p>\r\n                        </div>\r\n\r\n                        {/* Progress Bar */}\r\n                        <div className=\"max-w-md mx-auto\">\r\n                            <ProgressBar \r\n                                progress={progress}\r\n                                variant=\"default\"\r\n                                size=\"md\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Step 4: Complete */}\r\n            {uploadStep === 'complete' && (\r\n                <div className=\"space-y-6\">\r\n                    <div className=\"text-center space-y-4\">\r\n                        <CheckCircle2 className=\"w-12 h-12 text-green-500 mx-auto\" />\r\n                        \r\n                        <div>\r\n                            <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                                Upload Complete!\r\n                            </h3>\r\n                            <p className=\"text-sm text-gray-500\">\r\n                                {uploadedFiles.length} file{uploadedFiles.length > 1 ? 's' : ''} uploaded successfully\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"flex justify-center space-x-3\">\r\n                            <Button\r\n                                variant=\"outline\"\r\n                                onClick={handleReset}\r\n                            >\r\n                                Upload More\r\n                            </Button>\r\n                            \r\n                            <Button onClick={() => window.location.reload()}>\r\n                                Continue\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Show uploaded files */}\r\n                    {uploadedFiles.length > 0 && (\r\n                        <div className=\"border rounded-lg p-4 bg-green-50\">\r\n                            <h4 className=\"font-medium text-green-900 mb-2\">\r\n                                Uploaded Files:\r\n                            </h4>\r\n                            <div className=\"space-y-1\">\r\n                                {uploadedFiles.map((file, index) => (\r\n                                    <div key={index} className=\"text-sm text-green-700\">\r\n                                        ‚Ä¢ {file?.attachment.originalName}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {/* Error Display */}\r\n            {error && (\r\n                <Alert variant=\"destructive\" className=\"mt-4\">\r\n                    <AlertCircle className=\"h-4 w-4\" />\r\n                    <AlertDescription>\r\n                        {error}\r\n                    </AlertDescription>\r\n                </Alert>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1465, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce%20Vo/Documents/project/linguex/Streaming_Platform/frontend/app/%28protected%29/%28dashBoard%29/materials/upload/page.tsx"],"sourcesContent":["// app/upload/page.tsx\r\n\r\n'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { FileUpload } from '@/components/ui/FileUpload';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Alert, AlertDescription } from '@/components/ui/Alert';\r\nimport { \r\n    Upload, \r\n    FileText, \r\n    CheckCircle, \r\n    AlertCircle,\r\n    ArrowLeft \r\n} from 'lucide-react';\r\nimport Link from 'next/link';\r\n\r\nexport default function UploadPage() {\r\n    const [uploadResults, setUploadResults] = useState<any[]>([]);\r\n    const [showResults, setShowResults] = useState(false);\r\n\r\n    const handleUploadComplete = (results: any[]) => {\r\n        console.log('Upload completed:', results);\r\n        setUploadResults(results);\r\n        setShowResults(true);\r\n    };\r\n\r\n    const resetUpload = () => {\r\n        setUploadResults([]);\r\n        setShowResults(false);\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50\">\r\n            {/* Header */}\r\n            <div className=\"bg-white shadow-sm border-b\">\r\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n                    <div className=\"flex items-center justify-between h-16\">\r\n                        <div className=\"flex items-center space-x-4\">\r\n                            <Link href=\"/\">\r\n                                <Button variant=\"ghost\" size=\"sm\">\r\n                                    <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n                                    Back to Home\r\n                                </Button>\r\n                            </Link>\r\n                            \r\n                            <div className=\"h-6 w-px bg-gray-300\" />\r\n                            \r\n                            <div className=\"flex items-center space-x-2\">\r\n                                <Upload className=\"w-5 h-5 text-blue-600\" />\r\n                                <h1 className=\"text-xl font-semibold text-gray-900\">\r\n                                    File Upload\r\n                                </h1>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {showResults && (\r\n                            <Button\r\n                                variant=\"outline\"\r\n                                onClick={resetUpload}\r\n                            >\r\n                                Upload More Files\r\n                            </Button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main Content */}\r\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n                {!showResults ? (\r\n                    // Upload Interface\r\n                    <div className=\"space-y-6\">\r\n                        {/* Instructions */}\r\n                        <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                            <div className=\"flex items-start space-x-3\">\r\n                                <FileText className=\"w-6 h-6 text-blue-600 mt-1\" />\r\n                                <div>\r\n                                    <h2 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n                                        Upload Your Study Materials\r\n                                    </h2>\r\n                                    <p className=\"text-gray-600 mb-4\">\r\n                                        Upload documents, images, and other study materials to organize your learning resources. \r\n                                        All files are securely stored and easily accessible.\r\n                                    </p>\r\n                                    \r\n                                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\r\n                                        <div className=\"flex items-center space-x-2\">\r\n                                            <CheckCircle className=\"w-4 h-4 text-green-500\" />\r\n                                            <span>PDF Documents</span>\r\n                                        </div>\r\n                                        <div className=\"flex items-center space-x-2\">\r\n                                            <CheckCircle className=\"w-4 h-4 text-green-500\" />\r\n                                            <span>Images (JPG, PNG, GIF)</span>\r\n                                        </div>\r\n                                        <div className=\"flex items-center space-x-2\">\r\n                                            <CheckCircle className=\"w-4 h-4 text-green-500\" />\r\n                                            <span>Word Documents</span>\r\n                                        </div>\r\n                                        <div className=\"flex items-center space-x-2\">\r\n                                            <CheckCircle className=\"w-4 h-4 text-green-500\" />\r\n                                            <span>Text Files</span>\r\n                                        </div>\r\n                                        <div className=\"flex items-center space-x-2\">\r\n                                            <CheckCircle className=\"w-4 h-4 text-green-500\" />\r\n                                            <span>Max 10MB per file</span>\r\n                                        </div>\r\n                                        <div className=\"flex items-center space-x-2\">\r\n                                            <CheckCircle className=\"w-4 h-4 text-green-500\" />\r\n                                            <span>Up to 10 files</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Upload Component */}\r\n                        <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                            <FileUpload\r\n                                onUploadComplete={handleUploadComplete}\r\n                                maxFiles={10}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    // Results Display\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                            <div className=\"flex items-center space-x-3 mb-4\">\r\n                                <CheckCircle className=\"w-8 h-8 text-green-500\" />\r\n                                <div>\r\n                                    <h2 className=\"text-xl font-semibold text-gray-900\">\r\n                                        Upload Successful!\r\n                                    </h2>\r\n                                    <p className=\"text-gray-600\">\r\n                                        {uploadResults.length} file{uploadResults.length > 1 ? 's' : ''} uploaded successfully\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Results List */}\r\n                            <div className=\"space-y-3\">\r\n                                {uploadResults.map((result, index) => (\r\n                                    <div key={index} className=\"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200\">\r\n                                        <div className=\"flex items-center space-x-3\">\r\n                                            <CheckCircle className=\"w-5 h-5 text-green-600\" />\r\n                                            <div>\r\n                                                <p className=\"font-medium text-green-900\">\r\n                                                    {result?.data?.attachment?.originalName || 'Unknown file'}\r\n                                                </p>\r\n                                                <p className=\"text-sm text-green-700\">\r\n                                                    {result?.data?.attachment?.size ? \r\n                                                        `${(result.data.attachment.size / 1024).toFixed(1)} KB` : \r\n                                                        'Size unknown'\r\n                                                    } ‚Ä¢ \r\n                                                    {result?.data?.attachment?.mimeType || 'Unknown type'}\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                        \r\n                                        {result?.data?.attachment?.url && (\r\n                                            <Button\r\n                                                variant=\"outline\"\r\n                                                size=\"sm\"\r\n                                                onClick={() => window.open(result.data.attachment.url, '_blank')}\r\n                                            >\r\n                                                View File\r\n                                            </Button>\r\n                                        )}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n\r\n                            {/* Actions */}\r\n                            <div className=\"flex justify-center space-x-4 mt-6 pt-6 border-t\">\r\n                                <Button\r\n                                    variant=\"outline\"\r\n                                    onClick={resetUpload}\r\n                                >\r\n                                    Upload More Files\r\n                                </Button>\r\n                                \r\n                                <Link href=\"/dashboard\">\r\n                                    <Button>\r\n                                        Go to Dashboard\r\n                                    </Button>\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Debug Info (Development only) */}\r\n            {process.env.NODE_ENV === 'development' && uploadResults.length > 0 && (\r\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8\">\r\n                    <div className=\"bg-gray-100 rounded-lg p-4\">\r\n                        <h3 className=\"font-medium text-gray-900 mb-2\">Debug Info:</h3>\r\n                        <pre className=\"text-xs text-gray-600 overflow-auto\">\r\n                            {JSON.stringify(uploadResults, null, 2)}\r\n                        </pre>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}